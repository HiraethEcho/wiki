
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="My personal wiki or PKM">
      
      
        <meta name="author" content="hiraeth">
      
      
        <link rel="canonical" href="https://hiraethecho.github.io/wiki/dev/blogs-advance/">
      
      
        <link rel="prev" href="../3in1wiki/">
      
      
        <link rel="next" href="../blogs/">
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>多个博客网站管理 - Hiraeth's Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Hiraeth&#39;s Wiki" class="md-header__button md-logo" aria-label="Hiraeth's Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hiraeth's Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              多个博客网站管理
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hiraethecho/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hiraethecho/wiki
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Dev

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../living/" class="md-tabs__link">
          
  
  
    
  
  Living

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../read/" class="md-tabs__link">
          
  
  
    
  
  Read

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../savoir/" class="md-tabs__link">
          
  
  
    
  
  Savoir

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hiraeth&#39;s Wiki" class="md-nav__button md-logo" aria-label="Hiraeth's Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hiraeth's Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hiraethecho/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hiraethecho/wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Dev
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3in1wiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用mkdocs、obsidian、zotero搭建在线文献学习笔记
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    多个博客网站管理
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    多个博客网站管理
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        问题及分析
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="问题及分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        前提
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        分析
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        操作
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deepseek" class="md-nav__link">
    <span class="md-ellipsis">
      
        参考 deepseek
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="参考 deepseek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudflare-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        方案一：使用 Cloudflare Workers（推荐，最灵活）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        方案二：使用 Cloudflare Pages（简单，但有限制）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心思路：分离“构建托管”和“路由代理”
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="核心思路：分离“构建托管”和“路由代理”">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cloudflare-pages-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 1: Cloudflare Pages（首选，与 Workers 同平台）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-netlify-vercel" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 2: Netlify / Vercel（优秀的替代方案）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 3: GitHub Pages（原生但稍弱）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤二：配置每个博客的 baseURL（关键！）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-workers_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤三：使用 Cloudflare Workers 进行路由（代理）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        工作流程总结
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心挑战与解决方案
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：确认你的 GitHub Pages 地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：配置每个博客的 baseURL（最关键的一步！）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：创建并部署 Cloudflare Worker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：绑定 Worker 到你的域名
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终方案：子域名策略
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        操作步骤
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="操作步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-domain" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：为每个仓库配置 Custom Domain
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：在 DNS 提供商（Cloudflare）中添加记录
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：配置每个博客的 baseURL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examplecom" class="md-nav__link">
    <span class="md-ellipsis">
      
        如何处理根域名 (example.com)？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结对比
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终架构图
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：创建并组织你的内容仓库
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：为每个生成器创建配置仓库（可选但推荐）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：编写 GitHub Actions 工作流（核心）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：配置 Cloudflare 进行路由和托管
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第四步：配置 Cloudflare 进行路由和托管">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acloudflare-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项A：Cloudflare Pages（最简单）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用obsidian管理多个博客
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../ai/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Ai
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ai
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai/ai-in-nvim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI in neovim
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai/llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大语言模型llm
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大模型使用概览
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Apps
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Apps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/dwm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    折腾的linux+X11+dwm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/ffmpeg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ffmpeg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/nvim-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    My Neovim Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/nvim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nvim的技巧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/obsidian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    obsidian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/obsidian_douban/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    豆瓣记录导入obsidian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/pake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pake打包web应用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    各种同步方法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/taskwarrior/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    taskwarrior
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/timewarrior/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    timewarrior
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/vimtex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write latex with neovim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apps/zotero/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zotero
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../arch/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Arch
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Arch
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/archinstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    双系统安装archlinux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/archpostinstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    安装后的建议配置
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/archwiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ArchWiki摘抄
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/pacman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archlinux 上的包管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../cheatsheets/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Cheatsheets
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cheatsheets
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    awk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cli的常用命令
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    本站和markdown的语法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/git-tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    git备忘
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/grep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    grep
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Latex Tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/regex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    regex
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheatsheets/sed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sed cheatsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/bash-scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bash Scripts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    latex概览
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    lua
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    编程语言概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../linux/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/btrfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用btrfs做linux的快照备份
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/fhs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filesystem Hierarchy Standard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/handbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Handbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/hyprland/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    My hyprland config
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/keysym/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    从键盘到字符
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/linux-daily/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    linux-daily
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/no-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    没有GUI时
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/sddm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Display Manager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/seatd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    seatd实现多人共用电脑
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    shell
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/virtual-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    qemu虚拟机
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../web/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Web
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/caldav/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    caldav协议
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/cloudflare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    薅羊毛cloudflare
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/encryption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encryption
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/netease/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    网页端下载网易云音乐的音乐
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    个人网站的组织和管理
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About ssh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Windows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Windows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../windows/rewindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows重装指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../living/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Living
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Living
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/bpd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    边缘性人格障碍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/cocktail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cocktail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/coffee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    咖啡
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/cook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    厨艺养成ing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/food/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    food
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../living/iba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    酒谱
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../read/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Read
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Read
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/carceral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    监狱的诞生
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/one-dimensional-man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    《单向度的人：发达工业社会意识形态研究》读后感
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../read/excerpt/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Excerpt
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Excerpt
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/excerpt/butler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    巴特勒收集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/excerpt/feminism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    《女性主义》
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/excerpt/prison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    导读福柯《规劝与惩罚》
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../read/excerpt/save-the-cat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    救猫咪
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../savoir/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Savoir
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Savoir
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/democracyold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    民主与共和
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/goal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    常识目标
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/knowledge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/poems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    诗
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../savoir/philosophy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Philosophy
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Philosophy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/philosophy/quotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    一些哲学语录
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../savoir/textbook/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Textbook
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Textbook
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/textbook/geography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中学地理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../savoir/textbook/politics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中学政治
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        问题及分析
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="问题及分析">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        前提
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        分析
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        操作
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deepseek" class="md-nav__link">
    <span class="md-ellipsis">
      
        参考 deepseek
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="参考 deepseek">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudflare-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        方案一：使用 Cloudflare Workers（推荐，最灵活）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        方案二：使用 Cloudflare Pages（简单，但有限制）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心思路：分离“构建托管”和“路由代理”
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="核心思路：分离“构建托管”和“路由代理”">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cloudflare-pages-workers" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 1: Cloudflare Pages（首选，与 Workers 同平台）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-netlify-vercel" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 2: Netlify / Vercel（优秀的替代方案）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项 3: GitHub Pages（原生但稍弱）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤二：配置每个博客的 baseURL（关键！）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-workers_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤三：使用 Cloudflare Workers 进行路由（代理）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        工作流程总结
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心挑战与解决方案
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：确认你的 GitHub Pages 地址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：配置每个博客的 baseURL（最关键的一步！）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare-worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：创建并部署 Cloudflare Worker
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：绑定 Worker 到你的域名
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终方案：子域名策略
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        操作步骤
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="操作步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-domain" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：为每个仓库配置 Custom Domain
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：在 DNS 提供商（Cloudflare）中添加记录
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baseurl_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：配置每个博客的 baseURL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examplecom" class="md-nav__link">
    <span class="md-ellipsis">
      
        如何处理根域名 (example.com)？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结对比
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        最终架构图
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        第一步：创建并组织你的内容仓库
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        第二步：为每个生成器创建配置仓库（可选但推荐）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      
        第三步：编写 GitHub Actions 工作流（核心）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudflare" class="md-nav__link">
    <span class="md-ellipsis">
      
        第四步：配置 Cloudflare 进行路由和托管
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="第四步：配置 Cloudflare 进行路由和托管">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acloudflare-pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        选项A：Cloudflare Pages（最简单）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
      
        <a href="../../.#tag:github" class="md-tag">github</a>
      
    
      
      
      
      
        <a href="../../.#tag:site" class="md-tag">site</a>
      
    
  </nav>


  
    <a href="https://github.com/hiraethecho/wiki/edit/master/docs/dev/blogs-advance.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/hiraethecho/wiki/raw/master/docs/dev/blogs-advance.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="_1">多个博客网站管理<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>在<a href="/wiki/dev/blogs">用obsidian统一管理博客内容</a>后，考虑绑定域名，以及重新整理管理方式。</p>
<h2 id="_2">问题及分析<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="_3">前提<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>框架：</p>
<ul>
<li>hexo</li>
<li>hugo</li>
<li>jekyll</li>
<li>mkdocs</li>
</ul>
<p>内容仓库</p>
<ul>
<li>每个框架一个仓库，包含内容和配置</li>
<li>所有内容在一个仓库，且只有内容；不同框架配置在各自仓库</li>
</ul>
<p>托管位置</p>
<ul>
<li>github pages</li>
<li>cloudflare pages</li>
<li>netlify, vercel, etc</li>
</ul>
<p>绑定的域名</p>
<ul>
<li>在一个域名下<ul>
<li>(blog.)example.com/hexo</li>
<li>(blog.)example.com/hugo</li>
<li>···</li>
</ul>
</li>
<li>在不同子域名下<ul>
<li>hugo.example.com</li>
<li>hexo.example.com</li>
<li>···</li>
</ul>
</li>
</ul>
<h3 id="_4">分析<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h3 id="_5">总结<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<h2 id="_6">操作<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<h2 id="deepseek">参考 deepseek<a class="headerlink" href="#deepseek" title="Permanent link">&para;</a></h2>
<p><strong>假设我有一个域名example.com和cloudflare账号。有多个静态博客github仓库，分别使用hugo,hexo,mkdocs,jekyll等。我想要把它们和域名绑定，怎么安排他们的路径，以及重定向的方法</strong></p>
<p>例如：</p>
<ul>
<li><code>example.com/tech/</code> -&gt; 指向 Hugo 博客</li>
<li><code>example.com/life/</code> -&gt; 指向 Hexo 博客</li>
<li><code>example.com/docs/</code> -&gt; 指向 MkDocs 站点</li>
<li><code>example.com/notes/</code> -&gt; 指向 Jekyll 博客</li>
</ul>
<h3 id="cloudflare-workers">方案一：使用 Cloudflare Workers（推荐，最灵活）<a class="headerlink" href="#cloudflare-workers" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>为每个博客配置原始地址</strong>：</p>
<ul>
<li>确保你的每个博客都已经部署并可以通过一个独立的 URL 访问（例如 <code>hugo-blog.pages.dev</code>, <code>hexo-site.netlify.app</code>, <code>mkdocs-docs.vercel.app</code> 等）。记下这些 URL。</li>
</ul>
</li>
<li>
<p><strong>在 Cloudflare 中创建 Worker</strong>：</p>
<ul>
<li>登录 Cloudflare 仪表板，进入 <strong>Workers &amp; Pages</strong>。</li>
<li>点击 <strong>Create application</strong> -&gt; <strong>Create Worker</strong>。</li>
<li>给你的 Worker 起个名字，比如 <code>blog-router</code>。</li>
</ul>
</li>
<li>
<p><strong>编写 Worker 路由脚本</strong>：<br />
    将下面的代码替换到 Worker 编辑器中，并根据你的实际情况修改 <code>pathMappings</code> 对象。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 路径到上游（源站）URL 的映射</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">pathMappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/tech&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://hugo-blog.pages.dev&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/life&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://hexo-site.netlify.app&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/docs&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://mkdocs-docs.vercel.app&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/notes&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://jekyll-blog.github.io&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// 可以继续添加更多映射...</span>
<span class="p">];</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// 遍历映射，找到匹配的路径</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">mapping</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">pathMappings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                </span><span class="nx">pathname</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span>
<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// 构建新的上游URL</span>
<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">upstreamUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// 将请求的路径替换到上游URL上</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span>
<span class="w">                    </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">;</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">search</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span>

<span class="w">                </span><span class="c1">// 创建新的请求对象，保留原始方法和头部</span>
<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">newRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Request</span><span class="p">(</span><span class="nx">upstreamUrl</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">redirect</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;manual&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 让Worker处理重定向</span>
<span class="w">                </span><span class="p">});</span>

<span class="w">                </span><span class="c1">// 向上游发送请求并获取响应</span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">newRequest</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// 可选：修复响应头（如Location头中的重定向）</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="kd">let</span><span class="w"> </span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="c1">// 如果上游返回的重定向指向它自己的域名，将其替换为我们的域名和路径</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span>
<span class="w">                            </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">,</span>
<span class="w">                            </span><span class="s2">&quot;https://example.com&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span>
<span class="w">                        </span><span class="p">);</span>
<span class="w">                        </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Response</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">response</span><span class="p">);</span>
<span class="w">                        </span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">location</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 如果没有匹配的路径，可以返回404，或者重定向到一个默认页面</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Response</span><span class="p">(</span><span class="s2">&quot;Blog not found&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="mf">404</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
</code></pre></div>
</li>
<li>
<p><strong>配置 Worker 路由</strong>：</p>
<ul>
<li>在 Worker 详情页，点击 <strong>Triggers</strong> -&gt; <strong>Add Route</strong>。</li>
<li>添加路由模式：<code>example.com/tech/*</code> 和 <code>example.com/life/*</code> 等。你也可以直接添加 <code>example.com/*</code> 来让这个 Worker 处理所有子路径。</li>
</ul>
</li>
</ol>
<p><strong>完成！</strong> 现在访问 <code>example.com/tech/about/</code>，Worker 会代理请求到 <code>hugo-blog.pages.dev/about/</code>，并将内容返回给用户，用户的浏览器地址栏始终显示的是 <code>example.com</code>。</p>
<h3 id="cloudflare-pages">方案二：使用 Cloudflare Pages（简单，但有限制）<a class="headerlink" href="#cloudflare-pages" title="Permanent link">&para;</a></h3>
<p>如果你的博客都部署在支持<strong>自定义路径</strong>的平台上（如 Netlify, Vercel），或者你愿意使用 Cloudflare Pages 来托管其中一个，可以使用这个方法。</p>
<p><strong>步骤</strong>：</p>
<ol>
<li><strong>在 Cloudflare Pages 中创建一个项目</strong>（例如，用来托管你的 Hugo 博客）。</li>
<li>在构建设置中，<strong>不要</strong>使用根路径 (<code>/</code>)，而是使用你想要的子路径，例如 <code>/tech</code>。<ul>
<li>对于 Hugo：设置 <code>baseURL = "https://example.com/tech"</code></li>
<li>对于 Hexo：在 <code>_config.yml</code> 中设置 <code>root: /life/</code></li>
<li>对于 MkDocs：在 <code>mkdocs.yml</code> 中设置 <code>site_url: https://example.com/docs</code></li>
<li><strong>关键</strong>：你必须在你各个博客的配置文件中提前设置好 <code>baseURL</code> 或 <code>root</code> 为 <code>https://example.com/你的路径</code>，这样它们生成的所有内部链接（CSS, JS, 文章链接）才会是正确的。</li>
</ul>
</li>
<li>为这个 Pages 项目设置自定义域名 <code>example.com</code>。</li>
<li>对于其他博客，在 Cloudflare DNS 中为 <code>example.com</code> 设置 <code>CNAME</code> 记录指向它们的托管地址（如 <code>hexo-site.netlify.com</code>），但<strong>这通常会导致冲突</strong>，因为一个根域名通常只能指向一个地方。</li>
</ol>
<hr />
<p><strong>我的博客资源在github多个repo中呢</strong></p>
<h3 id="_7">核心思路：分离“构建托管”和“路由代理”<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>构建与托管 (Build &amp; Host)</strong>：为每个 GitHub repo 选择一个平台来自动构建代码并生成静态网站，获得一个独立的在线地址（如 <code>my-hugo-site.pages.dev</code>）。</li>
<li><strong>路由与代理 (Route &amp; Proxy)</strong>：使用 Cloudflare Workers（推荐方案）根据路径（如 <code>/tech</code>），将用户请求无缝代理到对应的托管地址。</li>
</ol>
<p>步骤一：为每个 GitHub Repo 选择托管平台（构建与托管）</p>
<h4 id="1-cloudflare-pages-workers">选项 1: Cloudflare Pages（首选，与 Workers 同平台）<a class="headerlink" href="#1-cloudflare-pages-workers" title="Permanent link">&para;</a></h4>
<ol>
<li>在 Cloudflare 仪表板中，进入 <strong>Workers &amp; Pages</strong>。</li>
<li>点击 <strong>Create application</strong> -&gt; <strong>Pages</strong> -&gt; <strong>Connect to Git</strong>。</li>
<li>选择你的 GitHub 账号，授权并选择你的一个博客仓库（例如 <code>hugo-blog</code>）。</li>
<li><strong>配置构建设置</strong>：<ul>
<li><strong>框架预设</strong>：Cloudflare Pages 能自动检测 Hugo, Hexo, Jekyll 等，并给出推荐配置。通常无需修改。</li>
<li><strong>构建命令</strong>：例如 Hugo 是 <code>hugo</code>，Hexo 是 <code>hexo generate</code>，MkDocs 是 <code>mkdocs build</code>。</li>
<li><strong>构建输出目录</strong>：<code>public</code> (Hugo, Hexo), <code>site</code> (MkDocs), <code>_site</code> (Jekyll)。</li>
</ul>
</li>
<li>点击 <strong>Save and Deploy</strong>。成功后，你会获得一个免费的 <code>.pages.dev</code> 子域名，如 <code>your-hugo-blog.pages.dev</code>。<strong>记下这个地址</strong>。</li>
<li><strong>重复此过程</strong>，为你的 Hexo、MkDocs、Jekyll 等每个仓库都创建一个 Cloudflare Pages 项目。</li>
</ol>
<h4 id="2-netlify-vercel">选项 2: Netlify / Vercel（优秀的替代方案）<a class="headerlink" href="#2-netlify-vercel" title="Permanent link">&para;</a></h4>
<ol>
<li>登录 Netlify 或 Vercel。</li>
<li>连接你的 GitHub 账号，导入一个仓库。</li>
<li>配置构建命令和输出目录。</li>
<li>部署后，你会获得一个 <code>.netlify.app</code> 或 <code>.vercel.app</code> 的免费子域名。<strong>记下这个地址</strong>。</li>
</ol>
<h4 id="3-github-pages">选项 3: GitHub Pages（原生但稍弱）<a class="headerlink" href="#3-github-pages" title="Permanent link">&para;</a></h4>
<p><strong>如何设置</strong>：<br />
在仓库的 <code>Settings</code> -&gt; <code>Pages</code> 中，选择构建源（通常是 <code>GitHub Actions</code> 或某个分支）。成功后，地址通常是 <code>https://&lt;你的github用户名&gt;.github.io/&lt;仓库名&gt;</code>。</p>
<h3 id="baseurl">步骤二：配置每个博客的 baseURL（关键！）<a class="headerlink" href="#baseurl" title="Permanent link">&para;</a></h3>
<p>这是<strong>最重要的一步</strong>，否则你的博客会出现 CSS/JS 加载失败、链接错误等问题。</p>
<div class="admonition tip">
<p class="admonition-title">路径设置</p>
<p>你必须在每个博客的<strong>源码配置文件</strong>中，将 <code>baseURL</code> 设置为你的<strong>最终目标路径</strong>，即 <code>https://example.com/你的路径/</code>。</p>
</div>
<ul>
<li><strong>Hugo</strong> (<code>config.toml</code>):<br />
    <div class="highlight"><pre><span></span><code><span class="n">baseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://example.com/tech/&quot;</span>
</code></pre></div></li>
<li><strong>Hexo</strong> (<code>_config.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>url: https://example.com/life/
root: /life/
</code></pre></div></li>
<li><strong>MkDocs</strong> (<code>mkdocs.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>site_url: https://example.com/docs/
</code></pre></div></li>
<li><strong>Jekyll</strong> (<code>_config.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>url: &quot;https://example.com&quot;
baseurl: &quot;/notes&quot; # 注意这里没有末尾的斜杠
</code></pre></div></li>
</ul>
<p><strong>为什么这么做？</strong> 这样博客在构建时，所有资源的链接路径都会变成 <code>/tech/css/style.css</code> 而不是 <code>/css/style.css</code>。当用户通过 <code>example.com/tech/</code> 访问时，所有资源才能被正确加载。</p>
<h3 id="cloudflare-workers_1">步骤三：使用 Cloudflare Workers 进行路由（代理）<a class="headerlink" href="#cloudflare-workers_1" title="Permanent link">&para;</a></h3>
<p>现在你已经有了一组托管地址（我们称之为“上游地址”）。假设：</p>
<ul>
<li>Hugo 博客：<code>https://hugo-blog.pages.dev</code> (对应 <code>baseURL: /tech/</code>)</li>
<li>Hexo 博客：<code>https://hexo-site.pages.dev</code> (对应 <code>baseURL: /life/</code>)</li>
<li>MkDocs 站点：<code>https://mkdocs-docs.pages.dev</code> (对应 <code>baseURL: /docs/</code>)</li>
<li>Jekyll 博客：<code>https://jekyll-notes.pages.dev</code> (对应 <code>baseURL: /notes/</code>)</li>
</ul>
<p>现在创建 Cloudflare Worker，代码几乎和之前一样，只需修改映射表：</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">pathMappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/tech&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://hugo-blog.pages.dev&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/life&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://hexo-site.pages.dev&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/docs&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://mkdocs-docs.pages.dev&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/notes&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://jekyll-notes.pages.dev&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// 添加一个根路径重定向到你的主博客</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://hugo-blog.pages.dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">redirect</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// 新增redirect属性</span>
<span class="p">];</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">mapping</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">pathMappings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                </span><span class="nx">pathname</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span>
<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// 处理根路径重定向</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">redirect</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span>
<span class="w">                        </span><span class="sb">`</span><span class="si">${</span><span class="nx">url</span><span class="p">.</span><span class="nx">origin</span><span class="si">}${</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
<span class="w">                        </span><span class="mf">301</span><span class="p">,</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">upstreamUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">);</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span>
<span class="w">                    </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">;</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">search</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span>

<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">newRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Request</span><span class="p">(</span><span class="nx">upstreamUrl</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">redirect</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;manual&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="p">});</span>

<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">newRequest</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// ... (可选的响应头处理代码，见上一个回答)</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Response</span><span class="p">(</span><span class="s2">&quot;Page not found&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="mf">404</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
</code></pre></div>
<p>最后，将这个 Worker 的路由绑定到你的域名 <code>example.com/*</code>。</p>
<h3 id="_8">工作流程总结<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>至此，一个完美的自动化流程就建立了：</p>
<ol>
<li><strong>你写文章</strong>：在本地 <code>hexo-blog</code> 文件夹中写作。</li>
<li><strong>你推送代码</strong>：<code>git add . &amp;&amp; git commit -m "new post" &amp;&amp; git push origin main</code></li>
<li><strong>自动构建</strong>：Cloudflare Pages (或 Netlify/Vercel) 检测到推送，自动拉取代码、执行 <code>hexo generate</code>、将 <code>public</code> 文件夹部署到全球CDN。</li>
<li><strong>自动更新</strong>：用户访问 <code>example.com/life/new-post.html</code>，Cloudflare Worker 拦截请求，从 <code>https://hexo-site.pages.dev/new-post.html</code> 获取<strong>刚刚部署的最新内容</strong>，并返回给用户。</li>
</ol>
<p>这个方案清晰、强大且完全免费（在免费额度内），完美解决了多 repo 源码的统一域名管理问题。</p>
<hr />
<p><strong>目前多个repo都用github pages来托管，怎么设置路由？</strong></p>
<p>好的，既然你已经在使用 GitHub Pages 来托管多个仓库，那么这个设置会非常直接。我们只需要解决一个核心问题：<strong>GitHub Pages 的默认 URL 结构</strong>。</p>
<h3 id="_9">核心挑战与解决方案<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>挑战</strong>：你的各个 GitHub Pages 站点的默认地址可能是：<ul>
<li><code>https://&lt;你的用户名&gt;.github.io/&lt;repo-name&gt;/</code> (对于项目站点)</li>
<li><code>https://&lt;你的用户名&gt;.github.io/</code> (对于用户主页站点，只能有一个)</li>
</ul>
</li>
<li><strong>目标</strong>：让它们都能通过 <code>example.com/&lt;path&gt;/</code> 访问。</li>
<li><strong>解决方案</strong>：使用 Cloudflare Workers 作为反向代理，并正确配置每个博客的 <code>baseURL</code>。</li>
</ul>
<h3 id="github-pages">第一步：确认你的 GitHub Pages 地址<a class="headerlink" href="#github-pages" title="Permanent link">&para;</a></h3>
<p>你有两种方式部署 GitHub Pages：</p>
<ol>
<li>
<p><strong>项目站点 (Project Site)</strong>：每个仓库都有自己的站点，地址为 <code>https://&lt;username&gt;.github.io/&lt;repository-name&gt;/</code>。这是最常见的方式，也是我们方案的基础。</p>
<ul>
<li>例如：Hugo 博客在 <code>hugo-blog</code> 仓库，它的地址就是 <code>https://your-username.github.io/hugo-blog/</code>.</li>
</ul>
</li>
<li>
<p><strong>用户/组织站点 (User/Organization Site)</strong>：需要一个名为 <code>&lt;username&gt;.github.io</code> 的特殊仓库，它直接部署在根路径 <code>https://&lt;username&gt;.github.io/</code>。<strong>这种方式你只能有一个</strong>。</p>
</li>
</ol>
<p><strong>请确保你的所有博客都是使用“项目站点”的方式部署的</strong>，这样每个博客才有自己独立的子路径。</p>
<h3 id="baseurl_1">第二步：配置每个博客的 baseURL（最关键的一步！）<a class="headerlink" href="#baseurl_1" title="Permanent link">&para;</a></h3>
<p>你必须告诉静态网站生成器，它最终是在一个子路径下被访问的，而不是在根路径。这样它才能正确生成所有资源（CSS, JS, 图片）和内部链接的路径。</p>
<div class="admonition tip">
<p class="admonition-title">路径设置</p>
<p>你必须在每个博客的<strong>源码配置文件</strong>中，将 <code>baseURL</code> 设置为你的<strong>最终目标路径</strong>，即 <code>https://example.com/你的路径/</code>。</p>
</div>
<ul>
<li><strong>Hugo</strong> (<code>config.toml</code> 或 <code>config.yaml</code>)<br />
    <div class="highlight"><pre><span></span><code><span class="n">baseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://example.com/tech/&quot;</span><span class="w"> </span><span class="c1"># 注意末尾的斜杠</span>
</code></pre></div></li>
<li><strong>Hexo</strong> (<code>_config.yml</code>)<br />
    <div class="highlight"><pre><span></span><code><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/life</span>
<span class="nt">root</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/life/</span><span class="w"> </span><span class="c1"># 注意：这里开头和结尾都有斜杠</span>
</code></pre></div></li>
<li><strong>MkDocs</strong> (<code>mkdocs.yml</code>)<br />
    <div class="highlight"><pre><span></span><code><span class="nt">site_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/docs/</span>
</code></pre></div></li>
<li><strong>Jekyll</strong> (<code>_config.yml</code>)<br />
    <div class="highlight"><pre><span></span><code><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;https://example.com&quot;</span><span class="w"> </span><span class="c1"># 你的域名</span>
<span class="nt">baseurl</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/notes&quot;</span><span class="w"> </span><span class="c1"># 你想要的路径，注意没有末尾斜杠</span>
</code></pre></div></li>
</ul>
<h3 id="cloudflare-worker">第三步：创建并部署 Cloudflare Worker<a class="headerlink" href="#cloudflare-worker" title="Permanent link">&para;</a></h3>
<p>这是实现无缝代理的核心。我们将创建一个 Worker，根据访问路径将请求转发到对应的 GitHub Pages 地址。</p>
<ol>
<li><strong>进入 Cloudflare 仪表板</strong>，选择 <strong>Workers &amp; Pages</strong>。</li>
<li>点击 <strong>Create Application</strong> -&gt; <strong>Create Worker</strong>。</li>
<li>给你的 Worker 起个名字，比如 <code>github-pages-router</code>。</li>
<li>
<p><strong>用以下代码替换默认代码</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 路径映射配置：[&#39;访问路径&#39;, &#39;对应的GitHub Pages地址&#39;]</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">pathMappings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/tech&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://your-username.github.io/hugo-blog&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/life&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://your-username.github.io/hexo-blog&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/docs&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://your-username.github.io/mkdocs-project&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;/notes&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">upstream</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://your-username.github.io/jekyll-notes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="c1">// 你可以继续添加更多映射...</span>
<span class="p">];</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="p">,</span><span class="w"> </span><span class="nx">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// 1. 处理根路径重定向（可选）</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">pathname</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// 重定向到你的主博客，比如tech</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">Response</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">url</span><span class="p">.</span><span class="nx">origin</span><span class="si">}</span><span class="sb">/tech/`</span><span class="p">,</span><span class="w"> </span><span class="mf">302</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 2. 遍历映射，寻找匹配的路径</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">mapping</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nx">pathMappings</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span>
<span class="w">                </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                </span><span class="nx">pathname</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span>
<span class="w">            </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// 构建要请求的上游URL</span>
<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">upstreamUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">URL</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">);</span>
<span class="w">                </span><span class="c1">// 将请求路径中匹配的部分替换为GitHub Pages的路径</span>
<span class="w">                </span><span class="c1">// 例如：请求 /tech/posts/1 -&gt; 代理到 https://.../hugo-blog/posts/1</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">pathname</span><span class="w"> </span><span class="o">=</span>
<span class="w">                    </span><span class="nx">pathname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span>
<span class="w">                        </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span>
<span class="w">                        </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">.</span><span class="nx">pathname</span><span class="p">,</span>
<span class="w">                    </span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">;</span>
<span class="w">                </span><span class="nx">upstreamUrl</span><span class="p">.</span><span class="nx">search</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">.</span><span class="nx">search</span><span class="p">;</span><span class="w"> </span><span class="c1">// 保留查询参数</span>

<span class="w">                </span><span class="c1">// 创建新的请求对象</span>
<span class="w">                </span><span class="kd">const</span><span class="w"> </span><span class="nx">newRequest</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Request</span><span class="p">(</span><span class="nx">upstreamUrl</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">method</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">request</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span>
<span class="w">                    </span><span class="nx">redirect</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;manual&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 非常重要！由Worker来处理重定向</span>
<span class="w">                </span><span class="p">});</span>

<span class="w">                </span><span class="c1">// 向上游（GitHub Pages）发送请求</span>
<span class="w">                </span><span class="kd">let</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">newRequest</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// 3. （可选但推荐）修复重定向头</span>
<span class="w">                </span><span class="c1">// 防止GitHub Pages的重定向导致用户浏览器地址栏变成 xxx.github.io</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mf">300</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">400</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="kd">const</span><span class="w"> </span><span class="nx">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">);</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">location</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">location</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// 将重定向地址中的GitHub URL替换为我们自己的域名和路径</span>
<span class="w">                        </span><span class="kd">const</span><span class="w"> </span><span class="nx">newLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span>
<span class="w">                            </span><span class="nx">mapping</span><span class="p">.</span><span class="nx">upstream</span><span class="p">,</span>
<span class="w">                            </span><span class="sb">`</span><span class="si">${</span><span class="nx">url</span><span class="p">.</span><span class="nx">origin</span><span class="si">}${</span><span class="nx">mapping</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="sb">`</span><span class="p">,</span>
<span class="w">                        </span><span class="p">);</span>
<span class="w">                        </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Response</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">response</span><span class="p">);</span>
<span class="w">                        </span><span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">newLocation</span><span class="p">);</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 4. 如果没有匹配任何路径，返回404</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Response</span><span class="p">(</span><span class="s2">&quot;Page not found!&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">status</span><span class="o">:</span><span class="w"> </span><span class="mf">404</span><span class="p">,</span>
<span class="w">            </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;Content-Type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">},</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>务必修改</strong>：<br />
- <code>your-username</code>：替换成你的 GitHub 用户名。<br />
- <code>hugo-blog</code>, <code>hexo-blog</code> 等：替换成你实际的仓库名称。</p>
</li>
<li>
<p><strong>点击 "Deploy"</strong> 部署这个 Worker。</p>
</li>
</ol>
<h3 id="worker">第四步：绑定 Worker 到你的域名<a class="headerlink" href="#worker" title="Permanent link">&para;</a></h3>
<p>现在需要告诉 Cloudflare：”所有对 <code>example.com</code> 的请求，都先交给这个 Worker 处理”。</p>
<ol>
<li>在你刚创建的 Worker 详情页，点击 <strong>Triggers</strong> -&gt; <strong>Add Route</strong>。</li>
<li>在路由框中输入：<code>example.com/*</code></li>
<li>点击 <strong>Add route</strong>。</li>
</ol>
<p><strong>大功告成！</strong></p>
<p>现在你可以访问：</p>
<ul>
<li><code>example.com/tech</code> -&gt; 无缝代理到 <code>https://your-username.github.io/hugo-blog/</code></li>
<li><code>example.com/life/about</code> -&gt; 无缝代理到 <code>https://your-username.github.io/hexo-blog/about</code></li>
<li><code>example.com/docs</code> -&gt; 无缝代理到 <code>https://your-username.github.io/mkdocs-project/</code></li>
</ul>
<p>用户的浏览器地址栏将始终显示 <code>example.com</code>，完全感知不到背后的 GitHub Pages。</p>
<hr />
<p><strong>如何用github自带的custom domain实现上述功能？</strong></p>
<p>当然可以！使用 GitHub Pages 自带的 <strong>Custom Domain</strong> 功能是实现统一域名最直接、最“官方”的方法。它本质上是一种 <strong>CNAME 重定向</strong> 而非代理。</p>
<p>但请注意，这种方法有一个<strong>核心限制</strong>：<strong>一个域名只能指向一个 GitHub Pages 仓库</strong>。你不能让 <code>example.com</code> 同时指向你的 Hugo 和 Hexo 仓库。</p>
<p>因此，要实现多个仓库绑定到同一域名的不同路径，我们需要采用 <strong>子域名 (Subdomain)</strong> 策略，而不是路径 (Path) 策略。</p>
<h3 id="_10">最终方案：子域名策略<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>我们将为每个博客仓库分配一个子域名，而不是一个路径。</p>
<ul>
<li><code>tech.example.com</code> -&gt; 指向 Hugo 博客仓库</li>
<li><code>life.example.com</code> -&gt; 指向 Hexo 博客仓库</li>
<li><code>docs.example.com</code> -&gt; 指向 MkDocs 仓库</li>
<li><code>notes.example.com</code> -&gt; 指向 Jekyll 仓库</li>
<li><code>example.com</code> -&gt; 指向你的主博客仓库（或重定向）</li>
</ul>
<h3 id="_11">操作步骤<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<h4 id="custom-domain">第一步：为每个仓库配置 Custom Domain<a class="headerlink" href="#custom-domain" title="Permanent link">&para;</a></h4>
<ol>
<li>进入你的 <strong>Hugo 博客仓库</strong> 的 Settings -&gt; Pages。</li>
<li>在 <strong>Custom domain</strong> 输入框中，填入你为它分配的子域名，例如 <code>tech.example.com</code>。</li>
<li>
<p>点击 <strong>Save</strong>。</p>
</li>
<li>
<p>GitHub 会自动在你的仓库根目录下创建一个 <code>CNAME</code> 文件，其内容就是 <code>tech.example.com</code>。<strong>请确保这个文件被提交并推送到你的仓库</strong>，否则设置可能会失效。</p>
</li>
<li><strong>重复以上过程</strong>，为你的其他仓库设置对应的子域名：<ul>
<li>Hexo 仓库 -&gt; <code>life.example.com</code></li>
<li>MkDocs 仓库 -&gt; <code>docs.example.com</code></li>
<li>Jekyll 仓库 -&gt; <code>notes.example.com</code></li>
</ul>
</li>
</ol>
<h4 id="dns-cloudflare">第二步：在 DNS 提供商（Cloudflare）中添加记录<a class="headerlink" href="#dns-cloudflare" title="Permanent link">&para;</a></h4>
<p>现在你需要告诉 DNS：“当有人访问 <code>tech.example.com</code> 时，请把它指向 GitHub 的服务器。”</p>
<ol>
<li>登录你的 Cloudflare 控制台，进入你的域名 <code>example.com</code> 的 DNS 管理页面。</li>
<li>为<strong>每个子域名</strong>创建一条 <code>CNAME</code> 记录：<ul>
<li><strong>Type</strong>: <code>CNAME</code></li>
<li><strong>Name</strong>: <code>tech</code> (这代表 <code>tech.example.com</code>)</li>
<li><strong>Target</strong>: <code>&lt;你的用户名&gt;.github.io</code> (注意：<strong>不要</strong>在后面加仓库名！)</li>
<li><strong>Proxy status</strong>: 建议启用 (橙色云)，让 Cloudflare CDN 加速和保护你的站点。</li>
</ul>
</li>
<li>重复添加所有需要的记录：</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Target</th>
<th style="text-align: left;">Proxy Status</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">CNAME</td>
<td style="text-align: left;">tech</td>
<td style="text-align: left;"><code>your-username.github.io</code></td>
<td style="text-align: left;">Proxied</td>
</tr>
<tr>
<td style="text-align: left;">CNAME</td>
<td style="text-align: left;">life</td>
<td style="text-align: left;"><code>your-username.github.io</code></td>
<td style="text-align: left;">Proxied</td>
</tr>
<tr>
<td style="text-align: left;">CNAME</td>
<td style="text-align: left;">docs</td>
<td style="text-align: left;"><code>your-username.github.io</code></td>
<td style="text-align: left;">Proxied</td>
</tr>
<tr>
<td style="text-align: left;">CNAME</td>
<td style="text-align: left;">notes</td>
<td style="text-align: left;"><code>your-username.github.io</code></td>
<td style="text-align: left;">Proxied</td>
</tr>
</tbody>
</table>
<h4 id="baseurl_2">第三步：配置每个博客的 baseURL<a class="headerlink" href="#baseurl_2" title="Permanent link">&para;</a></h4>
<p>你必须更新每个博客的配置文件，让它们知道现在是通过子域名访问的。</p>
<ul>
<li><strong>Hugo</strong> (<code>config.toml</code>):<br />
    <div class="highlight"><pre><span></span><code><span class="n">baseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://tech.example.com/&quot;</span>
</code></pre></div></li>
<li><strong>Hexo</strong> (<code>_config.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>url: https://life.example.com/
</code></pre></div></li>
<li><strong>MkDocs</strong> (<code>mkdocs.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>site_url: https://docs.example.com/
</code></pre></div></li>
<li><strong>Jekyll</strong> (<code>_config.yml</code>):<br />
    <div class="highlight"><pre><span></span><code>url: &quot;https://notes.example.com&quot; # 注意：这里没有末尾斜杠
# baseurl: &quot;&quot; # 如果你之前设置过baseurl，请确保它为空或注释掉
</code></pre></div></li>
</ul>
<h3 id="examplecom">如何处理根域名 (<code>example.com</code>)？<a class="headerlink" href="#examplecom" title="Permanent link">&para;</a></h3>
<p>你只能选择一个仓库作为主站来绑定根域名。</p>
<ol>
<li>选择你最常用的博客（例如 Hugo 博客）仓库。</li>
<li>在该仓库的 GitHub Pages 设置中，将 <strong>Custom domain</strong> 设置为 <code>example.com</code>（没有 <code>www</code> 前缀）。</li>
<li>在 Cloudflare DNS 中，你需要创建以下记录：<ul>
<li><strong>一条 <code>CNAME</code> 记录</strong> (推荐):<ul>
<li><strong>Type</strong>: <code>CNAME</code></li>
<li><strong>Name</strong>: <code>@</code> (这代表根域名 <code>example.com</code>)</li>
<li><strong>Target</strong>: <code>your-username.github.io</code></li>
<li><strong>Proxy status</strong>: <code>Proxied</code></li>
</ul>
</li>
<li><strong>或者一条 <code>A</code> 记录</strong> (传统方法):<ul>
<li><strong>Type</strong>: <code>A</code></li>
<li><strong>Name</strong>: <code>@</code></li>
<li><strong>Target</strong>: <code>185.199.108.153</code> (这是 GitHub Pages 的 IP之一，有<a href="https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain">四个</a>)</li>
<li><strong>Proxy status</strong>: <code>Proxied</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>现在，访问 <code>example.com</code> 就会打开你的 Hugo 博客。</p>
<h3 id="_12">总结对比<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th style="text-align: left;">特性</th>
<th style="text-align: left;">GitHub Custom Domain (子域名)</th>
<th style="text-align: left;">Cloudflare Worker (路径)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>实现方式</strong></td>
<td style="text-align: left;">DNS CNAME 记录</td>
<td style="text-align: left;">反向代理</td>
</tr>
<tr>
<td style="text-align: left;"><strong>URL 结构</strong></td>
<td style="text-align: left;"><code>subdomain.example.com</code></td>
<td style="text-align: left;"><code>example.com/path</code></td>
</tr>
<tr>
<td style="text-align: left;"><strong>设置难度</strong></td>
<td style="text-align: left;"><strong>简单</strong> (官方支持)</td>
<td style="text-align: left;">中等 (需写代码)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>灵活性</strong></td>
<td style="text-align: left;">较低 (固定子域名)</td>
<td style="text-align: left;"><strong>极高</strong> (可任意路由)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>性能</strong></td>
<td style="text-align: left;">快 (直接访问)</td>
<td style="text-align: left;">很快 (边缘网络代理)</td>
</tr>
<tr>
<td style="text-align: left;"><strong>推荐度</strong></td>
<td style="text-align: left;"><strong>推荐</strong> (简单直观)</td>
<td style="text-align: left;"><strong>推荐</strong> (功能强大)</td>
</tr>
</tbody>
</table>
<p><strong>建议</strong>：如果你可以接受子域名结构（<code>tech.example.com</code>），那么使用 GitHub 自带的 Custom Domain 功能是<strong>最简单、最稳定</strong>的选择。如果你坚持要使用路径结构（<code>example.com/tech</code>），那么 Cloudflare Worker 是<strong>唯一可行</strong>的方案。</p>
<hr />
<p><strong>我想要在一个仓库里管理所有具体内容，也就是markdown文件。然后根据所在的文件夹用hexo hugo等分别构建静态文件，然后再host在一个域名下。我希望我的内容仓库只包含具体博客的markdown文件，不包括配置文件或附件。</strong></p>
<h3 id="_13">最终架构图<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>[你的内容仓库] (只含Markdown和assets)
       |
       | (GitHub Actions 触发)
       |
       V
+-------------------------------+
|        构建矩阵 (CI/CD)        |
| +---------+  +---------+      |
| | Hugo CI |  | Hexo CI | ...  | --&gt; [构建后的静态文件]
| +---------+  +---------+      |
+-------------------------------+
       |
       | (部署)
       V
[Cloudflare Pages] 或 [Cloudflare R2] + [Worker 路由]
       |
       V
用户访问 example.com/tech/ --&gt; Hugo 博客
         example.com/life/ --&gt; Hexo 博客
</code></pre></div>
<h3 id="_14">第一步：创建并组织你的内容仓库<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>假设你的仓库名为 <code>my-blog-content</code>。</p>
<p><strong>仓库结构建议：</strong></p>
<div class="highlight"><pre><span></span><code>my-blog-content/
├── .github/workflows/     # GitHub Actions 工作流文件
├── tech/                  # Hugo 博客内容
├── life/                  # Hexo 博客内容
├── docs/                  # MkDocs 文档内容
└── shared-assets/         # 可跨博客使用的共享资源（可选）
</code></pre></div>
<p><strong>关键点</strong>：</p>
<ul>
<li><strong>不包含</strong> <code>_config.yml</code>, <code>themes/</code>, <code>package.json</code> 等任何生成器配置文件或依赖。</li>
<li>每个子目录（<code>tech/</code>, <code>life/</code>, <code>docs/</code>）的结构<strong>模拟</strong>了对应生成器所期望的源文件结构。</li>
</ul>
<h3 id="_15">第二步：为每个生成器创建配置仓库（可选但推荐）<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>为了保持纯粹，你可以为 Hugo, Hexo, MkDocs 分别创建独立的<strong>配置仓库</strong>，例如：</p>
<ul>
<li><code>my-blog-hugo-config</code></li>
<li><code>my-blog-hexo-config</code></li>
<li><code>my-blog-mkdocs-config</code></li>
</ul>
<p>这些仓库<strong>只包含</strong>主题、配置文件、插件等，<strong>不包含</strong>任何文章内容。</p>
<div class="highlight"><pre><span></span><code>my-blog-hugo-config/
├── archetypes/
├── assets/
├── layouts/
├── static/
├── themes/          # 你的主题，或作为git子模块引入
└── config.toml      # 关键：baseURL = &quot;https://example.com/tech/&quot;
</code></pre></div>
<p>在构建时，GitHub Actions 会同时拉取<strong>内容仓库</strong>和<strong>配置仓库</strong>，将它们合并后进行构建。</p>
<h3 id="github-actions">第三步：编写 GitHub Actions 工作流（核心）<a class="headerlink" href="#github-actions" title="Permanent link">&para;</a></h3>
<p>这是在 <code>.github/workflows/deploy.yml</code> 中的自动化脚本。它将完成拉取内容、拉取配置、构建、部署的全过程。</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy All Blogs</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">    </span><span class="nt">push</span><span class="p">:</span>
<span class="w">        </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;main&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="c1"># 允许手动触发</span>
<span class="w">    </span><span class="nt">workflow_dispatch</span><span class="p">:</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">build-and-deploy</span><span class="p">:</span>
<span class="w">        </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">        </span><span class="nt">strategy</span><span class="p">:</span>
<span class="w">            </span><span class="nt">matrix</span><span class="p">:</span>
<span class="w">                </span><span class="c1"># 定义构建矩阵，每个生成器一个任务</span>
<span class="w">                </span><span class="nt">generator</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">hugo</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">hexo</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">mkdocs</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Content Repo</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content&quot;</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout Config Repo</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">repository</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-username/my-blog-${{</span><span class="nv"> </span><span class="s">matrix.generator</span><span class="nv"> </span><span class="s">}}-config&quot;</span><span class="w"> </span><span class="c1"># 拉取对应的配置仓库</span>
<span class="w">                  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;config&quot;</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Node.js (for Hexo)</span>
<span class="w">              </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.generator == &#39;hexo&#39;</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-node@v4</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">node-version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;20&quot;</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Setup Python (for MkDocs)</span>
<span class="w">              </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.generator == &#39;mkdocs&#39;</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v5</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.x&quot;</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prepare Build Environment</span>
<span class="w">              </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                  </span><span class="no"># 将内容和配置合并到构建目录</span>
<span class="w">                  </span><span class="no">mkdir -p build/${{ matrix.generator }}</span>
<span class="w">                  </span><span class="no">cp -r config/. build/${{ matrix.generator }}/</span>
<span class="w">                  </span><span class="no">cp -r content/${{ matrix.generator }}/. build/${{ matrix.generator }}/ 2&gt;/dev/null || :</span>

<span class="w">                  </span><span class="no"># 对于Hexo，需要将content/life/_posts复制到source/_posts</span>
<span class="w">                  </span><span class="no">if [ &quot;${{ matrix.generator }}&quot; = &quot;hexo&quot; ]; then</span>
<span class="w">                    </span><span class="no">cp -r content/life/_posts build/hexo/source/</span>
<span class="w">                    </span><span class="no">cp -r content/life/images build/hexo/source/</span>
<span class="w">                  </span><span class="no">fi</span>

<span class="w">                  </span><span class="no"># 对于Hugo，content/tech/已经是正确的源文件路径</span>
<span class="w">                  </span><span class="no"># 对于MkDocs，content/docs/docs/需要是mkdocs.yml中docs_dir指向的路径</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build with Hugo</span>
<span class="w">              </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.generator == &#39;hugo&#39;</span>
<span class="w">              </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./build/hugo</span>
<span class="w">              </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                  </span><span class="no">wget https://github.com/gohugoio/hugo/releases/download/v0.125.0/hugo_extended_0.125.0_linux-amd64.deb</span>
<span class="w">                  </span><span class="no">sudo dpkg -i hugo_extended_0.125.0_linux-amd64.deb</span>
<span class="w">                  </span><span class="no">hugo --minify</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build with Hexo</span>
<span class="w">              </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.generator == &#39;hexo&#39;</span>
<span class="w">              </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./build/hexo</span>
<span class="w">              </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                  </span><span class="no">npm install</span>
<span class="w">                  </span><span class="no">npx hexo generate</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build with MkDocs</span>
<span class="w">              </span><span class="nt">if</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">matrix.generator == &#39;mkdocs&#39;</span>
<span class="w">              </span><span class="nt">working-directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./build/mkdocs</span>
<span class="w">              </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                  </span><span class="no">pip install mkdocs-material</span>
<span class="w">                  </span><span class="no">mkdocs build</span>

<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload Artifact</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/upload-pages-artifact@v3</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.generator }}-site</span>
<span class="w">                  </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">                      </span><span class="no">build/hugo/public/</span>
<span class="w">                      </span><span class="no">build/hexo/public/</span>
<span class="w">                      </span><span class="no">build/mkdocs/site/</span>

<span class="w">    </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">        </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">        </span><span class="nt">needs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">build-and-deploy</span>
<span class="w">        </span><span class="nt">permissions</span><span class="p">:</span>
<span class="w">            </span><span class="nt">pages</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">            </span><span class="nt">id-token</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class="w">        </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github-pages</span>
<span class="w">            </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ steps.deployment.outputs.page_url }}</span>
<span class="w">        </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to Cloudflare Pages</span>
<span class="w">              </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cloudflare/pages-action@v1</span>
<span class="w">              </span><span class="nt">with</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">apiToken</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.CLOUDFLARE_API_TOKEN }}</span>
<span class="w">                  </span><span class="nt">accountId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.CLOUDFLARE_ACCOUNT_ID }}</span>
<span class="w">                  </span><span class="nt">projectName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-unified-blog</span>
<span class="w">                  </span><span class="nt">directory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.</span><span class="w"> </span><span class="c1"># 注意：这里需要调整，因为 artifacts 是分开的</span>
<span class="w">                  </span><span class="c1"># 更复杂的部署可能需要自定义脚本</span>
</code></pre></div>
<p><strong>注意</strong>：上面的工作流是一个复杂的概念验证。在实际生产中，你可能会选择：</p>
<ol>
<li><strong>为每个生成器创建独立的工作流文件</strong>（如 <code>deploy-hugo.yml</code>, <code>deploy-hexo.yml</code>），这样更清晰。</li>
<li>或者使用 <strong><code>needs</code></strong> 关键字创建依赖关系图，让它们并行构建。</li>
<li>部署步骤可能需要先将所有构建好的静态文件（<code>hugo/public/</code>, <code>hexo/public/</code>, <code>mkdocs/site/</code>）收集到一个总目录（如 <code>combined-site/</code>）下，再进行一次性部署。</li>
</ol>
<h3 id="cloudflare">第四步：配置 Cloudflare 进行路由和托管<a class="headerlink" href="#cloudflare" title="Permanent link">&para;</a></h3>
<p>你有两个主要的托管选择：</p>
<h4 id="acloudflare-pages">选项A：Cloudflare Pages（最简单）<a class="headerlink" href="#acloudflare-pages" title="Permanent link">&para;</a></h4>
<ol>
<li>按照上面的工作流，将所有构建好的静态文件部署到同一个 Cloudflare Pages 项目。</li>
<li>项目的文件结构在部署后应该是：<br />
    <div class="highlight"><pre><span></span><code>/
├── tech/    # Hugo 生成的整个public文件夹内容
├── life/    # Hexo 生成的整个public文件夹内容
└── docs/    # MkDocs 生成的整个site文件夹内容
</code></pre></div></li>
</ol>
<h3 id="_16">总结<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>这个方案实现了你的所有目标：</p>
<ol>
<li><strong>内容与配置分离</strong>：一个纯净的 <code>markdown</code> 和 <code>assets</code> 仓库。</li>
<li><strong>多生成器构建</strong>：利用 GitHub Actions 矩阵策略并行处理。</li>
<li><strong>统一域名托管</strong>：通过 Cloudflare Pages 或 Pages + Worker 实现。</li>
</ol>
<p>虽然初始设置比较复杂，但一旦完成，你的工作流将变得非常清晰和强大：<strong>你只需要在一个地方写 <code>markdown</code> 和推送，所有博客都会自动更新。</strong></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../3in1wiki/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 用mkdocs、obsidian、zotero搭建在线文献学习笔记">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                用mkdocs、obsidian、zotero搭建在线文献学习笔记
              </div>
            </div>
          </a>
        
        
          
          <a href="../blogs/" class="md-footer__link md-footer__link--next" aria-label="Next: 用obsidian管理多个博客">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                用obsidian管理多个博客
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/hiraethecho" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "navigation.footer", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.path", "navigation.indexes", "toc.follow", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>