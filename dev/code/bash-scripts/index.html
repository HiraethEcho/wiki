
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="My personal wiki or PKM">
      
      
        <meta name="author" content="hiraeth">
      
      
        <link rel="canonical" href="https://hiraethecho.github.io/wiki/dev/code/bash-scripts/">
      
      
        <link rel="prev" href="../../cheatsheets/sed/">
      
      
        <link rel="next" href="../latex/">
      
      
        
      
      
        <link rel="alternate" type="application/rss+xml" title="RSS feed" href="../../../feed_rss_created.xml">
        <link rel="alternate" type="application/rss+xml" title="RSS feed of updated content" href="../../../feed_rss_updated.xml">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Bash Scripts - Hiraeth's Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bash-scripts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Hiraeth&#39;s Wiki" class="md-header__button md-logo" aria-label="Hiraeth's Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hiraeth's Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bash Scripts
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/hiraethecho/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hiraethecho/wiki
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  Dev

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../living/" class="md-tabs__link">
          
  
  
    
  
  Living

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../read/" class="md-tabs__link">
          
  
  
    
  
  Read

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../savoir/" class="md-tabs__link">
          
  
  
    
  
  Savoir

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Hiraeth&#39;s Wiki" class="md-nav__button md-logo" aria-label="Hiraeth's Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hiraeth's Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hiraethecho/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    hiraethecho/wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Dev
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3in1wiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用mkdocs、obsidian、zotero搭建在线文献学习笔记
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs-advance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    多个博客网站管理
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用obsidian管理多个博客
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ai/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Ai
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ai
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/ai-in-nvim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI in neovim
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大语言模型llm
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    大模型使用概览
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Apps
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Apps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/dwm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    折腾的linux+X11+dwm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/ffmpeg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ffmpeg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/nvim-config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    My Neovim Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/nvim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    nvim的技巧
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/obsidian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    obsidian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/obsidian_douban/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    豆瓣记录导入obsidian
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/pake/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pake打包web应用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/sync/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    各种同步方法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/taskwarrior/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    taskwarrior
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/timewarrior/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    timewarrior
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/vimtex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Write latex with neovim
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/zotero/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zotero
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../arch/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Arch
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Arch
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arch/archinstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    双系统安装archlinux
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arch/archpostinstall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    安装后的建议配置
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arch/archwiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ArchWiki摘抄
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arch/pacman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Archlinux 上的包管理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cheatsheets/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Cheatsheets
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cheatsheets
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/awk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    awk
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cli的常用命令
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    本站和markdown的语法
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/git-tips/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    git备忘
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/grep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    grep
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Latex Tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/regex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    regex
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/sed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    sed cheatsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_9" checked>
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Code
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Bash Scripts
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Bash Scripts
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    <span class="md-ellipsis">
      
        intro
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      
        run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#she-bang" class="md-nav__link">
    <span class="md-ellipsis">
      
        she-bang
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        注释
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define" class="md-nav__link">
    <span class="md-ellipsis">
      
        define
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        变量类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        数组
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        运算
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        参数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pairs" class="md-nav__link">
    <span class="md-ellipsis">
      
        pairs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        {} 花括号
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="{} 花括号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        常规用法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        几种特殊的替换结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        字符串提取和替换
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        []
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        [[]]
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        [] 和 [[]]
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="[] 和 [[]]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        基本定义
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心区别
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        性能与安全性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        何时使用？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        经典示例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        ()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        (())
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-ticks" class="md-nav__link">
    <span class="md-ellipsis">
      
        `` back ticks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        ""
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        "" 和 ''
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-write" class="md-nav__link">
    <span class="md-ellipsis">
      
        read, write
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read, write">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-in-console" class="md-nav__link">
    <span class="md-ellipsis">
      
        read in console
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-in-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        read in file
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redirection-pipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        redirection, pipe
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="redirection, pipe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="direction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出重定向
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        输入重定向
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        重定向组合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      
        进程替换（Process Substitution）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        综合示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipe
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    <span class="md-ellipsis">
      
        control
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    <span class="md-ellipsis">
      
        if
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        loop
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      
        function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-opts" class="md-nav__link">
    <span class="md-ellipsis">
      
        get-opts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    latex概览
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    lua
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    编程语言概览
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_10" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../linux/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Linux
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_10" id="__nav_1_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linux
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/btrfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    用btrfs做linux的快照备份
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/fhs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filesystem Hierarchy Standard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/handbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux Handbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/hyprland/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    My hyprland config
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/keysym/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    从键盘到字符
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/linux-daily/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    linux-daily
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/no-gui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    没有GUI时
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/sddm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Display Manager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/seatd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    seatd实现多人共用电脑
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    shell
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/virtual-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    qemu虚拟机
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_11" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../web/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Web
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_11" id="__nav_1_11_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/caldav/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    caldav协议
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/cloudflare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    薅羊毛cloudflare
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/encryption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encryption
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/netease/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    网页端下载网易云音乐的音乐
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/site/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    个人网站的组织和管理
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../web/ssh/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About ssh
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_12" >
        
          
          <label class="md-nav__link" for="__nav_1_12" id="__nav_1_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Windows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Windows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../windows/rewindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows重装指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../living/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Living
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Living
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/bpd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    边缘性人格障碍
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/cocktail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cocktail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/coffee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    咖啡
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/cook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    厨艺养成ing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/food/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    food
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../living/iba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    酒谱
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--in-progress" title="in-progress">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../read/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Read
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Read
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/carceral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    监狱的诞生
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/one-dimensional-man/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    《单向度的人：发达工业社会意识形态研究》读后感
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../read/excerpt/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Excerpt
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Excerpt
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/excerpt/butler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    巴特勒收集
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/excerpt/feminism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    《女性主义》
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/excerpt/prison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    导读福柯《规劝与惩罚》
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../read/excerpt/save-the-cat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    救猫咪
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../savoir/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Savoir
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Savoir
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/democracyold/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    民主与共和
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/goal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    常识目标
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/knowledge/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Knowledge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/poems/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    诗
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../savoir/philosophy/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Philosophy
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Philosophy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/philosophy/quotes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    一些哲学语录
  

    
  </span>
  
  
    
  
  
    <span class="md-status md-status--draft" title="draft">
    </span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../savoir/textbook/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Textbook
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Textbook
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/textbook/geography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中学地理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../savoir/textbook/politics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    中学政治
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    <span class="md-ellipsis">
      
        intro
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run" class="md-nav__link">
    <span class="md-ellipsis">
      
        run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#she-bang" class="md-nav__link">
    <span class="md-ellipsis">
      
        she-bang
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        注释
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        variables
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define" class="md-nav__link">
    <span class="md-ellipsis">
      
        define
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        变量类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        数组
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        运算
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        参数
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pairs" class="md-nav__link">
    <span class="md-ellipsis">
      
        pairs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="pairs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
        {} 花括号
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="{} 花括号">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
        常规用法
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
        几种特殊的替换结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
        字符串提取和替换
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
        []
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
        [[]]
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
        [] 和 [[]]
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="[] 和 [[]]">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      
        基本定义
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      
        核心区别
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      
        性能与安全性
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      
        何时使用？
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      
        经典示例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      
        总结
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      
        ()
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      
        (())
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#back-ticks" class="md-nav__link">
    <span class="md-ellipsis">
      
        `` back ticks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      
        ""
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      
        "" 和 ''
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-write" class="md-nav__link">
    <span class="md-ellipsis">
      
        read, write
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read, write">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="read">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-in-console" class="md-nav__link">
    <span class="md-ellipsis">
      
        read in console
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-in-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        read in file
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redirection-pipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        redirection, pipe
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="redirection, pipe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="direction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      
        输出重定向
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      
        输入重定向
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      
        重定向组合
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-substitution" class="md-nav__link">
    <span class="md-ellipsis">
      
        进程替换（Process Substitution）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      
        综合示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipe" class="md-nav__link">
    <span class="md-ellipsis">
      
        pipe
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    <span class="md-ellipsis">
      
        control
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="control">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if" class="md-nav__link">
    <span class="md-ellipsis">
      
        if
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        loop
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function" class="md-nav__link">
    <span class="md-ellipsis">
      
        function
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-opts" class="md-nav__link">
    <span class="md-ellipsis">
      
        get-opts
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cron" class="md-nav__link">
    <span class="md-ellipsis">
      
        cron
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    Dev
  </span>

        </a>
      </li>
    
  

      
        
  
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    Code
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
      
        <a href="../../../.#tag:handbook" class="md-tag">handbook</a>
      
    
      
      
      
      
        <a href="../../../.#tag:linux" class="md-tag">linux</a>
      
    
      
      
      
      
        <a href="../../../.#tag:tools" class="md-tag">tools</a>
      
    
  </nav>


  
    <a href="https://github.com/hiraethecho/wiki/edit/master/docs/dev/code/bash-scripts.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/hiraethecho/wiki/raw/master/docs/dev/code/bash-scripts.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="bash-scripts">Bash Scripts<a class="headerlink" href="#bash-scripts" title="Permanent link">&para;</a></h1>
<h2 id="intro">intro<a class="headerlink" href="#intro" title="Permanent link">&para;</a></h2>
<h3 id="run">run<a class="headerlink" href="#run" title="Permanent link">&para;</a></h3>
<p>You can run the script in the following ways:</p>
<p><code>./hello_world.sh</code></p>
<p><code>bash hello_world.sh</code>.</p>
<h3 id="she-bang">she-bang<a class="headerlink" href="#she-bang" title="Permanent link">&para;</a></h3>
<p>First line of shell Scripts usually is the <code>she-bang</code>:</p>
<div class="highlight"><pre><span></span><code>#!/bin/sh
</code></pre></div>
<p>Means using <code>/bin/sh</code> to run the script.</p>
<p>但是<code>/bin/sh</code>通常是符号链接，在不同机器上实际上是不同的shell，有时会有以外情况。所以建议写成</p>
<div class="highlight"><pre><span></span><code>#!/bin/bash
</code></pre></div>
<h3 id="_1">注释<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>以 # 开头的行就是注释，会被解释器忽略。</p>
<p>多行注释可以使用以下格式：</p>
<div class="highlight"><pre><span></span><code>:<span class="s">&lt;&lt;EOF</span>
<span class="s">注释内容...</span>
<span class="s">注释内容...</span>
<span class="s">注释内容...</span>
<span class="s">EOF</span>
</code></pre></div>
<p>以上例子中，: 是一个空命令，用于执行后面的 Here 文档， &lt;&lt;'EOF' 表示开启 Here 文档，COMMENT 是 Here 文档的标识符，在这两个标识符之间的内容都会被视为注释，不会被执行。</p>
<p>EOF 也可以使用其他符号:</p>
<div class="highlight"><pre><span></span><code>:<span class="w"> </span><span class="s">&lt;&lt;&#39;COMMENT&#39;</span>
<span class="s">这是注释的部分。</span>
<span class="s">可以有多行内容。</span>
<span class="s">COMMENT</span>

:&lt;&lt;<span class="w"> </span><span class="s1">&#39;</span>
<span class="s1">注释内容...</span>
<span class="s1">注释内容...</span>
<span class="s1">注释内容...</span>
<span class="s1">&#39;</span>

:&lt;&lt;!
注释内容...
注释内容...
注释内容...
!
</code></pre></div>
<h2 id="variables">variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<h3 id="define">define<a class="headerlink" href="#define" title="Permanent link">&para;</a></h3>
<p>We can define a variable by using the syntax <code>variable_name=value</code>. To get the value of the variable, add <code>$</code> before the variable.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># A simple variable example</span>
<span class="nv">greeting</span><span class="o">=</span>Hello
<span class="nv">name</span><span class="o">=</span>Tux
<span class="nb">echo</span><span class="w"> </span><span class="nv">$greeting</span><span class="w"> </span><span class="nv">$name</span>
</code></pre></div>
<p>注意，变量名和等号之间不能有空格</p>
<p>字符串：</p>
<div class="highlight"><pre><span></span><code><span class="nv">my_string</span><span class="o">=</span><span class="err">&#39;</span>Hello,<span class="w"> </span>World!my_string<span class="o">=</span><span class="s2">&quot;Hello, World!&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>RUNOOB=&quot;www.runoob.com&quot;
LD_LIBRARY_PATH=&quot;/bin/&quot;
_var=&quot;123&quot;
var2=&quot;abc&quot;
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="se">\`</span><span class="w"> </span>ls<span class="w"> </span>/<span class="w"> </span>etc<span class="w"> </span><span class="se">\`</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>$<span class="w"> </span><span class="o">(</span>ls<span class="w"> </span>/<span class="w"> </span>etc<span class="o">)</span>
</code></pre></div>
<p>数组：</p>
<div class="highlight"><pre><span></span><code>my_array=(1 2 3 4 5)
</code></pre></div>
<p>只读变量</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">myUrl</span><span class="o">=</span><span class="s2">&quot;https://www.google.com&quot;</span>
<span class="nb">readonly</span><span class="w"> </span>myUrl
<span class="nv">myUrl</span><span class="o">=</span><span class="s2">&quot;https://www.runoob.com&quot;</span>
</code></pre></div>
<p>使用 unset 命令可以删除变量。语法：</p>
<div class="highlight"><pre><span></span><code>unset variable_name
</code></pre></div>
<h3 id="_2">变量类型<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p><strong>字符串变量：</strong> 在 Shell中，变量通常被视为字符串。</p>
<p>你可以使用单引号 ' 或双引号 " 来定义字符串，例如：</p>
<div class="highlight"><pre><span></span><code>my_string=&#39;Hello, World!&#39;
my_string=&quot;Hello, World!&quot;
</code></pre></div>
<p>单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li>
<li>单引号字符串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
<p>双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
<p>拼接字符串</p>
<div class="highlight"><pre><span></span><code>your<span class="se">\_</span>name<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;runoob&quot;</span>
<span class="se">\#</span><span class="w"> </span>使用双引号拼接
<span class="nv">greeting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello, &quot;</span><span class="w"> </span><span class="nv">$your</span><span class="se">\_</span>name<span class="w"> </span><span class="s2">&quot;!&quot;</span>
greeting<span class="se">\_</span><span class="m">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello, </span><span class="si">${</span><span class="nv">your</span><span class="se">\_</span><span class="nv">name</span><span class="si">}</span><span class="s2">!&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$greeting</span><span class="w"> </span><span class="nv">$greeting</span><span class="se">\_</span><span class="m">1</span>

<span class="se">\#</span><span class="w"> </span>使用单引号拼接
greeting<span class="se">\_</span><span class="m">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello, &#39;</span><span class="w"> </span><span class="nv">$your</span><span class="se">\_</span>name<span class="w"> </span><span class="s1">&#39;!&#39;</span>
greeting<span class="se">\_</span><span class="m">3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello, ${your\_name}!&#39;</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$greeting</span><span class="se">\_</span><span class="m">2</span><span class="w"> </span><span class="nv">$greeting</span><span class="se">\_</span><span class="m">3</span>
</code></pre></div>
<p>输出结果为：</p>
<div class="highlight"><pre><span></span><code>hello, runoob ! hello, runoob !
hello, runoob ! hello, ${your_name} !
</code></pre></div>
<p>获取字符串长度</p>
<div class="highlight"><pre><span></span><code><span class="nv">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;abcd&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="si">${#</span><span class="nv">string</span><span class="si">}</span><span class="w"> </span><span class="se">\#</span><span class="w"> </span>输出<span class="w"> </span><span class="m">4</span>
</code></pre></div>
<h3 id="_3">数组<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p>
<p>类似于 C 语言，数组元素的下标由 0 开始编号。获取数组中的元素要利用下标，下标可以是整数或算术表达式，其值应大于或等于 0。</p>
<p>在 Shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：</p>
<div class="highlight"><pre><span></span><code>数组名=(值1 值2 ... 值n)
</code></pre></div>
<p>例如：</p>
<div class="highlight"><pre><span></span><code>array_name=(value0 value1 value2 value3)
</code></pre></div>
<p>或者</p>
<div class="highlight"><pre><span></span><code>array_name=(
value0
value1
value2
value3
)
</code></pre></div>
<p>还可以单独定义数组的各个分量：</p>
<div class="highlight"><pre><span></span><code>array_name[0]=value0
array_name[1]=value1
array_name[n]=valuen
</code></pre></div>
<p>可以不使用连续的下标，而且下标的范围没有限制。</p>
<p>读取数组元素值的一般格式是：</p>
<div class="highlight"><pre><span></span><code>${数组名[下标]}
</code></pre></div>
<p>例如：</p>
<div class="highlight"><pre><span></span><code>valuen=${array_name[n]}
</code></pre></div>
<p>使用 @ 符号可以获取数组中的所有元素，例如：</p>
<div class="highlight"><pre><span></span><code>echo ${array_name[@]}
</code></pre></div>
<p>获取数组长度的方法与获取字符串长度的方法相同，例如：</p>
<div class="highlight"><pre><span></span><code><span class="se">\#</span><span class="w"> </span>取得数组元素的个数
<span class="nv">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">${#</span><span class="nv">array</span><span class="se">\_</span><span class="nv">name</span><span class="se">\[</span><span class="p">@</span><span class="se">\]</span><span class="si">}</span>
<span class="se">\#</span><span class="w"> </span>或者
<span class="nv">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">${#</span><span class="nv">array</span><span class="se">\_</span><span class="nv">name</span><span class="se">\[\*\]</span><span class="si">}</span>
<span class="se">\#</span><span class="w"> </span>取得数组单个元素的长度
<span class="nv">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">${#</span><span class="nv">array</span><span class="se">\_</span><span class="nv">name</span><span class="se">\[</span><span class="nv">n</span><span class="se">\]</span><span class="si">}</span>
</code></pre></div>
<h3 id="_4">运算<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>Arithmetic Expressions:</p>
<p>Below are the operators supported by bash for mathematical calculations:</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>addition</td>
</tr>
<tr>
<td>-</td>
<td>subtraction</td>
</tr>
<tr>
<td>*</td>
<td>multiplication</td>
</tr>
<tr>
<td>/</td>
<td>division</td>
</tr>
<tr>
<td>**</td>
<td>exponentiation</td>
</tr>
<tr>
<td>%</td>
<td>modulus</td>
</tr>
</tbody>
</table>
<p>Numeric Comparison logical operators</p>
<p>Comparison is used to check if statements evaluate to <code>true</code> or <code>false</code>. We can use the below shown operators to compare two statements:</p>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Syntax</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Equality</td>
<td>num1 -eq num2</td>
<td>is num1 equal to num2</td>
</tr>
<tr>
<td>Greater than equal to</td>
<td>num1 -ge num2</td>
<td>is num1 greater than equal to num2</td>
</tr>
<tr>
<td>Greater than</td>
<td>num1 -gt num2</td>
<td>is num1 greater than num2</td>
</tr>
<tr>
<td>Less than equal to</td>
<td>num1 -le num2</td>
<td>is num1 less than equal to num2</td>
</tr>
<tr>
<td>Less than</td>
<td>num1 -lt num2</td>
<td>is num1 less than num2</td>
</tr>
<tr>
<td>Not Equal to</td>
<td>num1 -ne num2</td>
<td>is num1 not equal to num2</td>
</tr>
</tbody>
</table>
<h3 id="_5">参数<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>$#</td>
<td>传给脚本的参数个数</td>
</tr>
<tr>
<td>$0</td>
<td>脚本本身的名字</td>
</tr>
<tr>
<td>$1</td>
<td>传递给该shell脚本的第一个参数</td>
</tr>
<tr>
<td>$2</td>
<td>传递给该shell脚本的第二个参数</td>
</tr>
<tr>
<td>$@</td>
<td>传给脚本的所有参数的列表</td>
</tr>
<tr>
<td>$*</td>
<td>以一个单字符串显示所有向脚本传递的参数，与位置变量不同，参数可超过9个</td>
</tr>
<tr>
<td>$$</td>
<td>脚本运行的当前进程ID号</td>
</tr>
<tr>
<td>$?</td>
<td>显示最后命令的退出状态，0表示没有错误，其他表示有错误</td>
</tr>
</tbody>
</table>
<p>假设执行 <code>./test.sh a b c</code> 这样一个命令，则可以使用下面的参数来获取一些值：</p>
<ul>
<li><code>$0</code><br />
  对应 <em>./test.sh</em> 这个值。如果执行的是 <code>./work/test.sh</code> ， 则对应 <em>./work/test.sh</em> 这个值，而不是只返回文件名本身的部分。</li>
<li><code>$1</code><br />
  会获取到 a，即 <code>$1</code> 对应传给脚本的第一个参数。</li>
<li><code>$2</code><br />
  会获取到 b，即 <code>$2</code> 对应传给脚本的第二个参数。</li>
<li><code>$3</code><br />
  会获取到 c，即 <code>$3</code> 对应传给脚本的第三个参数。 <code>$4</code> 、 <code>$5</code> 等参数的含义依此类推。</li>
<li><code>$#</code><br />
  会获取到 3，对应传入脚本的参数个数，统计的参数不包括 <code>$0</code> 。</li>
<li><code>$@</code><br />
  会获取到 "a" "b" "c"，也就是所有参数的列表，不包括 <code>$0</code> 。</li>
<li><code>$*</code><br />
  也会获取到 "a" "b" "c"， 其值和 <code>$@</code> 相同。但 <code>"$*"</code> 和 <code>"$@"</code> 有所不同。<br />
<code>"$*"</code> 把所有参数合并成一个字符串，而 <code>"$@"</code> 会得到一个字符串参数数组。</li>
<li><code>$?</code><br />
  可以获取到执行 <code>./test.sh a b c</code> 命令后的返回值。<br />
  在执行一个前台命令后，可以立即用 <code>$?</code> 获取到该命令的返回值。<br />
  该命令可以是系统自身的命令，可以是 shell 脚本，也可以是自定义的 bash 函数。</li>
</ul>
<p>当执行系统自身的命令时， <code>$?</code> 对应这个命令的返回值。<br />
当执行 shell 脚本时， <code>$?</code> 对应该脚本调用 <code>exit</code> 命令返回的值。如果没有主动调用 <code>exit</code> 命令，默认返回为 0。<br />
当执行自定义的 bash 函数时， <code>$?</code> 对应该函数调用 <code>return</code> 命令返回的值。如果没有主动调用 <code>return</code> 命令，默认返回为 0。</p>
<p>下面举例说明 <code>"$*"</code> 和 <code>"$@"</code> 的差异。假设有一个 <code>testparams.sh</code> 脚本，内容如下：</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="k">for</span><span class="w"> </span>arg<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$*</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;****:&quot;</span><span class="w"> </span><span class="nv">$arg</span>
<span class="k">done</span>
<span class="nb">echo</span><span class="w"> </span>--------------
<span class="k">for</span><span class="w"> </span>arg<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$@</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;@@@@:&quot;</span><span class="w"> </span><span class="nv">$arg</span>
<span class="k">done</span>
</code></pre></div>
<p>这个脚本分别遍历 <code>"$*"</code> 和 <code>"$@"</code> 扩展后的内容，并打印出来。</p>
<p>执行 <code>./testparams.sh</code> 脚本，结果如下：</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./testparams.sh<span class="w"> </span>This<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span><span class="nb">test</span>
****:<span class="w"> </span>This<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span><span class="nb">test</span>
--------------
@@@@:<span class="w"> </span>This
@@@@:<span class="w"> </span>is
@@@@:<span class="w"> </span>a
@@@@:<span class="w"> </span><span class="nb">test</span>
</code></pre></div>
<p>可以看到， <code>"$*"</code> 只产生一个字符串，for 循环只遍历一次。<br />
而 <code>"$@"</code> 产生了多个字符串，for 循环遍历多次，是一个字符串参数数组。</p>
<p><strong>注意</strong> ：如果传入的参数多于 9 个，则不能使用 <code>$10</code> 来引用第 10 个参数，而是要用 <code>${10}</code> 来引用。</p>
<p>即，需要用大括号 <code>{}</code> 把大于 9 的数字括起来。<br />
例如， <code>${10}</code> 表示获取第 10 个参数的值，写为 <code>$10</code> 获取不到第 10 个参数的值。<br />
实际上， <code>$10</code> 相当于 <code>${1}0</code> ，也就是先获取 <code>$1</code> 的值，后面再跟上 0。<br />
如果 <code>$1</code> 的值是 "first"，则 <code>$10</code> 的值是 "first0"。</p>
<p>在 bash 中，可以使用 <code>$#</code> 来获取传入的命令行或者传入函数的参数个数。<br />
要注意的是， <code>$#</code> 统计的参数个数不包括脚本自身名称或者函数名称。<br />
例如，执行 <code>./a.sh a b</code> ，则 <code>$#</code> 是 2，而不是 3。</p>
<h2 id="pairs">pairs<a class="headerlink" href="#pairs" title="Permanent link">&para;</a></h2>
<p><code>{}</code>,<code>[]</code>,<code>()</code>,<code>``</code></p>
<h3 id="_6">{} 花括号<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<h4 id="_7">常规用法<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<p>大括号拓展。(通配(globbing))将对大括号中的文件名做扩展。在大括号中，不允许有空白，除非这个空白被引用或转义。第一种：对大括号中的以逗号分割的文件列表进行拓展。如 touch {a,b}.txt 结果为a.txt b.txt。第二种：对大括号中以点点（..）分割的顺序文件列表起拓展作用，如：touch {a..d}.txt 结果为a.txt b.txt c.txt d.txt</p>
<div class="highlight"><pre><span></span><code># ls {ex1,ex2}.sh
ex1.sh  ex2.sh
# ls {ex{1..3},ex4}.sh
ex1.sh  ex2.sh  ex3.sh  ex4.sh
# ls {ex[1-3],ex4}.sh
ex1.sh  ex2.sh  ex3.sh  ex4.sh
</code></pre></div>
<p>代码块，又被称为内部组，这个结构事实上创建了一个匿名函数 。与小括号中的命令不同，大括号内的命令不会新开一个子shell运行，即脚本余下部分仍可使用括号内变量。括号内的命令间用分号隔开，最后一个也必须有分号。{}的第一个命令和左括号之间必须要有一个空格。</p>
<h4 id="_8">几种特殊的替换结构<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>${var:-string}
${var:+string}
${var:=string}
${var:?string}
</code></pre></div>
<ol>
<li>
<p><code>${var:-string}</code>和<code>${var:=string}</code>:若变量var为空，则用在命令行中用string来替换<code>${var:-string}</code>，否则变量var不为空时，则用变量var的值来替换<code>${var:-string}</code>；对于<code>${var:=string}</code>的替换规则和<code>${var:-string}</code>是一样的，所不同之处是<code>${var:=string}</code>若var为空时，用string替换<code>${var:=string}</code>的同时，把string赋给变量var： <code>${var:=string}</code>很常用的一种用法是，判断某个变量是否赋值，没有的话则给它赋上一个默认值。</p>
</li>
<li>
<p><code>${var:+string}</code>的替换规则和上面的相反，即只有当var不是空的时候才替换成string，若var为空时则不替换或者说是替换成变量 var的值，即空值。(因为变量var此时为空，所以这两种说法是等价的)</p>
</li>
<li>
<p><code>${var:?string}</code>替换规则为：若变量var不为空，则用变量var的值来替换<code>${var:?string}</code>；若变量var为空，则把string输出到标准错误中，并从脚本中退出。我们可利用此特性来检查是否设置了变量的值。</p>
</li>
</ol>
<p>在上面这五种替换结构中string不一定是常值的，可用另外一个变量的值或是一种命令的输出。</p>
<div class="highlight"><pre><span></span><code>default_name=&quot;Guest&quot;
unset name  # 确保 name 未定义

# 如果 name 为空，则使用 default_name 的值
echo &quot;Hello, ${name:-$default_name}&quot;  # 输出: Hello, Guest
</code></pre></div>
<p><strong>四种模式匹配替换结构</strong></p>
<p>模式匹配记忆方法：</p>
<div class="highlight"><pre><span></span><code># 是去掉左边(在键盘上#在$之左边)
% 是去掉右边(在键盘上%在$之右边)
</code></pre></div>
<p><code>#</code>和<code>%</code>中的单一符号是最小匹配，两个相同符号是最大匹配。</p>
<div class="highlight"><pre><span></span><code>${var%pattern}
${var%%pattern
${var#pattern}
${var##pattern}
</code></pre></div>
<ul>
<li>第一种模式：<code>${variable%pattern}</code>，这种模式时，shell在variable中查找，看它是否一给的模式pattern结尾，如果是，就从命令行把variable中的内容去掉右边最短的匹配模式</li>
<li>第二种模式： <code>${variable%%pattern}</code>，这种模式时，shell在variable中查找，看它是否一给的模式pattern结尾，如果是，就从命令行把variable中的内容去掉右边最长的匹配模式</li>
<li>第三种模式：<code>${variable#pattern}</code> 这种模式时，shell在variable中查找，看它是否一给的模式pattern开始，如果是，就从命令行把variable中的内容去掉左边最短的匹配模式</li>
<li>第四种模式： <code>${variable##pattern}</code> 这种模式时，shell在variable中查找，看它是否一给的模式pattern结尾，如果是，就从命令行把variable中的内容去掉右边最长的匹配模式</li>
<li>这四种模式中都不会改变variable的值，其中，只有在pattern中使用了*匹配符号时，%和%%，#和##才有区别。结构中的pattern支持通配符，*表示零个或多个任意字符，?表示仅与一个任意字符匹配，[...]表示匹配中括号里面的字符，[!...]表示不匹配中括号里面的字符。</li>
</ul>
<div class="highlight"><pre><span></span><code># var=testcase
# echo $var
testcase
# echo ${var%s*e}
testca
# echo $var
testcase
# echo ${var%%s*e}
te
# echo ${var#?e}
stcase
# echo ${var##?e}
stcase
# echo ${var##*e}

# echo ${var##*s}
e
# echo ${var##test}
case
</code></pre></div>
<h4 id="_9">字符串提取和替换<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>${var:num}
${var:num1:num2}
${var/pattern/pattern}
${var//pattern/pattern}
</code></pre></div>
<ul>
<li>第一种模式：<code>${var:num}</code>，这种模式时，shell在var中提取第num个字符到末尾的所有字符。若num为正数，从左边0处开始；若num为负数，从右边开始提取字串，但必须使用在冒号后面加空格或一个数字或整个num加上括号，如<code>${var: -2}</code>、<code>${var:1-3}</code>或<code>${var:(-2)}</code>。</li>
<li>第二种模式：<code>${var:num1:num2}</code>，num1是位置，num2是长度。表示从<span class="arithmatex">\(var字符串的第\)</span>num1个位置开始提取长度为$num2的子串。不能为负数。</li>
<li>第三种模式：<code>${var/pattern/pattern}</code>表示将var字符串的第一个匹配的pattern替换为另一个pattern。</li>
<li>第四种模式：<code>${var//pattern/pattern}</code>表示将var字符串中的所有能匹配的pattern替换为另一个pattern。</li>
</ul>
<div class="highlight"><pre><span></span><code>[root@centos ~]# var=/home/centos
[root@centos ~]# echo $var
/home/centos
[root@centos ~]# echo ${var:5}
/centos
[root@centos ~]# echo ${var: -6}
centos
[root@centos ~]# echo ${var:(-6)}
centos
[root@centos ~]# echo ${var:1:4}
home
[root@centos ~]# echo ${var/o/h}
/hhme/centos
[root@centos ~]# echo ${var//o/h}
/hhme/cenths
</code></pre></div>
<ul>
<li>${a} 变量a的值, 在不引起歧义的情况下可以省略大括号。</li>
<li><span class="arithmatex">\((cmd) 命令替换，和\`cmd\`效果相同，结果为shell命令cmd的输，过某些Shell版本不支持\)</span>()形式的命令替换, 如tcsh。</li>
<li>
<p>$((expression)) 和`exprexpression`效果相同, 计算数学表达式exp的数值, 其中exp只要符合C语言的运算规则即可, 甚至三目运算符和逻辑表达式都可以计算。</p>
</li>
<li>
<p>单小括号，(cmd1;cmd2;cmd3) 新开一个子shell顺序执行命令cmd1,cmd2,cmd3, 各命令之间用分号隔开, 最后一个命令后可以没有分号。</p>
</li>
<li>单大括号，{ cmd1;cmd2;cmd3;} 在当前shell顺序执行命令cmd1,cmd2,cmd3, 各命令之间用分号隔开, 最后一个命令后必须有分号, 第一条命令和左括号之间必须用空格隔开。<br />
  对 {} 和 () 而言, 括号中的重定向符只影响该条命令， 而括号外的重定向符影响到括号中的所有命令。</li>
</ul>
<h3 id="_10"><code>[]</code><a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nb">type</span><span class="w"> </span><span class="o">[</span>

<span class="o">[</span><span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>shell<span class="w"> </span><span class="nb">builtin</span>
</code></pre></div>
<p>This means that '[' is actually a program, just like ls and other programs, so it must be surrounded by spaces.</p>
<ul>
<li>bash 的内部命令，[和test是等同的。如果我们不用绝对路径指明，通常我们用的都是bash自带的命令。if/test结构中的左中括号是调用test的命令标识，右中括号是关闭条件判断的。这个命令把它的参数作为比较表达式或者作为文件测试，并且根据比较的结果来返回一个退出状态码。if/test结构中并不是必须右中括号，但是新版的Bash中要求必须这样。</li>
<li>Test和[]中可用的比较运算符只有==和!=，两者都是用于字符串比较的，不可用于整数比较，整数比较只能使用-eq，-gt这种形式。无论是字符串比较还是整数比较都不支持大于号小于号。如果实在想用，对于字符串比较可以使用转义形式，如果比较"ab"和"bc"：[ ab \&lt; bc ]，结果为真，也就是返回状态为0。[ ]中的逻辑与和逻辑或使用-a 和-o 表示。</li>
<li>字符范围。用作正则表达式的一部分，描述一个匹配的字符范围。作为test用途的中括号内不能使用正则。</li>
<li>在一个array 结构的上下文中，中括号用来引用数组中每个元素的编号。</li>
</ul>
<h3 id="_11"><code>[[]]</code><a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<ul>
<li>[[是 bash 程序语言的关键字。并不是一个命令，[[ ]] 结构比[ ]结构更加通用。在[[和]]之间所有的字符都不会发生文件名扩展或者单词分割，但是会发生参数扩展和命令替换。</li>
<li>支持字符串的模式匹配，使用=~操作符时甚至支持shell的正则表达式。字符串比较时可以把右边的作为一个模式，而不仅仅是一个字符串，比如[[ hello == hell? ]]，结果为真。[[ ]] 中匹配字符串或通配符，不需要引号。</li>
<li>使用[[... ]]条件判断结构，而不是[... ]，能够防止脚本中的许多逻辑错误。比如，&amp;&amp;、||、&lt;和&gt; 操作符能够正常存在于[[ ]]条件判断结构中，但是如果出现在[ ]结构中的话，会报错。比如可以直接使用if [[ $a!= 1 &amp;&amp; $a!= 2 ]], 如果不适用双括号, 则为if [ $a -ne 1] &amp;&amp; [ $a!= 2 ]或者if [ $a -ne 1 -a $a!= 2 ]。</li>
<li>bash把双中括号中的表达式看作一个单独的元素，并返回一个退出状态码。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="nv">$i</span>&lt;<span class="m">5</span><span class="o">)</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">1</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">$a</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">]</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">1</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">]</span>
<span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">]]</span>

<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">4</span><span class="k">)</span><span class="p">;</span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="se">\`</span>seq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="m">4</span><span class="se">\`</span><span class="p">;</span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span><span class="o">((</span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span>i&lt;<span class="m">5</span><span class="p">;</span>i++<span class="o">))</span><span class="p">;</span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="k">done</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">0</span>..4<span class="o">}</span><span class="p">;</span><span class="k">do</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span><span class="p">;</span><span class="k">done</span>
</code></pre></div>
<h3 id="_12"><code>[]</code> 和 <code>[[]]</code><a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>在 <strong>Bash</strong> 脚本中，<code>[ ]</code>（<code>test</code> 命令）和 <code>[[ ]]</code>（关键字）都用于条件判断，但它们在功能、性能和安全性上有显著区别。以下是详细对比：</p>
<h4 id="_13">基本定义<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>语法</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[ ]</code></td>
<td><strong>内置命令</strong></td>
<td>等价于 <code>test</code> 命令，需严格遵循参数规则（如空格和引号）。</td>
</tr>
<tr>
<td><code>[[ ]]</code></td>
<td><strong>Shell 关键字</strong></td>
<td>Bash/ksh/zsh 的扩展语法，更灵活，支持额外功能（如模式匹配、逻辑组合）。</td>
</tr>
</tbody>
</table>
<h4 id="_14">核心区别<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<p><strong>(1) 字符串比较</strong></p>
<ul>
<li>
<p><strong><code>[ ]</code></strong>：</p>
<ul>
<li>使用 <code>=</code> 和 <code>!=</code> 时，<strong>必须加引号</strong>，否则可能因空格或特殊字符报错。</li>
<li>示例：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$var</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># 正确</span>
<span class="o">[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>hello<span class="w"> </span><span class="o">]</span><span class="w">      </span><span class="c1"># 若 $var 含空格，会报错</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong><code>[[ ]]</code></strong>：</p>
<ul>
<li>自动处理变量中的空格，无需引号（但仍建议加引号以防未定义变量）。</li>
<li>支持 <code>==</code> 和 <code>!=</code> 的<strong>通配符匹配</strong>（模式匹配）。</li>
<li>示例：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">]]</span><span class="w">    </span><span class="c1"># 正确，即使 $var 含空格</span>
<span class="o">[[</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>h*<span class="w"> </span><span class="o">]]</span><span class="w">         </span><span class="c1"># 支持通配符匹配（如 &quot;hello&quot; 或 &quot;hi&quot;）</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>(2) 数值比较</strong></p>
<ul>
<li>
<p><strong><code>[ ]</code></strong>：</p>
<ul>
<li>必须用 <code>-eq</code>、<code>-lt</code> 等运算符：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$num</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]</span><span class="w">  </span><span class="c1"># 数值比较</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong><code>[[ ]]</code></strong>：</p>
<ul>
<li>仍建议用 <code>-eq</code>、<code>-lt</code>，但支持 <code>&gt;</code> 和 <code>&lt;</code>（需转义或双括号）：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[[</span><span class="w"> </span><span class="nv">$num</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="o">]]</span><span class="w">    </span><span class="c1"># 标准写法</span>
<span class="o">[[</span><span class="w"> </span><span class="nv">$num</span><span class="w"> </span>&lt;<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]]</span><span class="w">     </span><span class="c1"># 字符串比较（字典序）！</span>
<span class="o">((</span><span class="w"> </span>num<span class="w"> </span>&lt;<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">))</span><span class="w">      </span><span class="c1"># 数值比较的正确写法</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>(3) 逻辑运算符</strong></p>
<ul>
<li>
<p><strong><code>[ ]</code></strong>：</p>
<ul>
<li>用 <code>-a</code>（AND）、<code>-o</code>（OR），需严格分隔：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1</span><span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong><code>[[ ]]</code></strong>：</p>
<ul>
<li>用 <code>&amp;&amp;</code> 和 <code>||</code>，更直观：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]]</span>
</code></pre></div></li>
</ul>
</li>
</ul>
<p><strong>(4) 文件测试</strong></p>
<ul>
<li><strong><code>[ ]</code></strong> 和 <code>[[ ]]</code> 均支持，但 <code>[[ ]]</code> 更安全（如未定义变量不会报错）：<br />
    <div class="highlight"><pre><span></span><code><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w">      </span><span class="c1"># 检查文件是否存在</span>
<span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$file</span><span class="w"> </span><span class="o">]]</span><span class="w">      </span><span class="c1"># 更健壮（即使 $file 未定义也不会语法错误）</span>
</code></pre></div></li>
</ul>
<p><strong>(5) 正则匹配（仅 <code>[[ ]]</code>）</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">[[</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^h<span class="w"> </span><span class="o">]]</span><span class="w">   </span><span class="c1"># 正则匹配（返回 true）</span>
</code></pre></div>
<h4 id="_15">性能与安全性<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>特性</th>
<th><code>[ ]</code></th>
<th><code>[[ ]]</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>执行速度</strong></td>
<td>较慢（外部命令或内置命令）</td>
<td>更快（Bash 关键字）</td>
</tr>
<tr>
<td><strong>安全性</strong></td>
<td>变量未加引号易报错</td>
<td>自动处理空格，更健壮</td>
</tr>
<tr>
<td><strong>兼容性</strong></td>
<td>所有 Shell（sh、dash 等）</td>
<td>仅 Bash/ksh/zsh</td>
</tr>
</tbody>
</table>
<h4 id="_16">何时使用？<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>用 <code>[[ ]]</code></strong>：<ul>
<li>需要模式匹配、正则表达式、逻辑组合时。</li>
<li>脚本已明确使用 Bash（<code>#!/bin/bash</code>）。</li>
</ul>
</li>
<li><strong>用 <code>[ ]</code></strong>：<ul>
<li>需兼容 POSIX Shell（如 <code>/bin/sh</code>）。</li>
<li>简单的文件或字符串测试（但务必加引号）。</li>
</ul>
</li>
</ul>
<h4 id="_17">经典示例<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<p><strong>(1) 字符串比较</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># [ ] 必须加引号</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello Alice&quot;</span>

<span class="c1"># [[ ]] 更灵活</span>
<span class="o">[[</span><span class="w"> </span><span class="nv">$name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>A*<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Name starts with A&quot;</span>
</code></pre></div>
<p><strong>(2) 文件检查</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># [ ] 和 [[ ]] 均可，但后者更安全</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;/path/</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File exists&quot;</span>
<span class="o">[[</span><span class="w"> </span>-f<span class="w"> </span>/path/<span class="nv">$file</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;File exists&quot;</span>
</code></pre></div>
<p><strong>(3) 逻辑组合</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># [ ] 用 -a/-o</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$age</span><span class="s2">&quot;</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">18</span><span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$age</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid age&quot;</span>

<span class="c1"># [[ ]] 用 &amp;&amp;/||</span>
<span class="o">[[</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-gt<span class="w"> </span><span class="m">18</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nv">$age</span><span class="w"> </span>-lt<span class="w"> </span><span class="m">60</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Valid age&quot;</span>
</code></pre></div>
<h4 id="_18">总结<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th><strong>需求</strong></th>
<th><strong><code>[ ]</code></strong></th>
<th><strong><code>[[ ]]</code></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>字符串比较</td>
<td>需严格加引号</td>
<td>自动处理空格，支持通配符</td>
</tr>
<tr>
<td>数值比较</td>
<td>用 <code>-eq</code>、<code>-lt</code></td>
<td>同 <code>[ ]</code>，但可用 <code>(( ))</code> 替代</td>
</tr>
<tr>
<td>逻辑运算符</td>
<td><code>-a</code>、<code>-o</code></td>
<td><code>&amp;&amp;</code>、<code>\|\|</code></td>
</tr>
<tr>
<td>正则匹配</td>
<td>❌</td>
<td>✅（<code>=~</code>）</td>
</tr>
<tr>
<td>性能</td>
<td>较慢</td>
<td>更快</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>优先用 <code>[[ ]]</code></strong>（Bash 脚本中更安全、灵活）。</li>
<li><strong>只有需要兼容 POSIX 时用 <code>[ ]</code></strong>（如 <code>/bin/sh</code> 脚本）。</li>
</ul>
<h3 id="_19"><code>()</code><a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>命令组</strong> 。括号中的命令将会新开一个子shell顺序执行，所以括号中的变量不能够被脚本余下的部分使用。括号中多个命令之间用分号隔开，最后一个命令可以没有分号，各命令和括号之间不必有空格。</li>
<li><strong>命令替换</strong> 。等同于<code>cmd</code>，shell扫描一遍命令行，发现了<code>$(cmd)</code>结构，便将<code>$(cmd)</code>中的<code>cmd</code>执行一次，得到其标准输出，再将此输出放到原来命令。有些shell不支持，如tcsh。</li>
<li><strong>用于初始化数组</strong> 。如：<code>array=(a b c d)</code></li>
</ul>
<h3 id="_20"><code>(())</code><a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<ul>
<li>整数扩展。这种扩展计算是整数型的计算，不支持浮点型。((exp))结构扩展并计算一个算术表达式的值，如果表达式的结果为0，那么返回的退出状态码为1，或者 是"假"，而一个非零值的表达式所返回的退出状态码将为0，或者是"true"。若是逻辑判断，表达式exp为真则为1,假则为0。</li>
<li>只要括号中的运算符、表达式符合C语言运算规则，都可用在$((exp))中，甚至是三目运算符。作不同进位(如二进制、八进制、十六进制)运算时，输出结果全都自动转化成了十进制。如：echo $((16#5f)) 结果为95 (16进位转十进制)</li>
<li>单纯用 (( )) 也可重定义变量值，比如 a=5; ((a++)) 可将 $a 重定义为6</li>
<li>常用于算术运算比较，双括号中的变量可以不使用<code>$</code>符号前缀。括号内支持多个表达式用逗号分开。 只要括号中的表达式符合C语言运算规则,比如可以直接使用<code>for((i=0;i&lt;5;i++))</code>, 如果不使用双括号, 则为<code>for i in $(seq 0 4)</code>或者<code>for i in {0..4}</code>。再如可以直接使用<code>if (($i&lt;5))</code>, 如果不使用双括号, 则为<code>if \[ $i -lt 5 \]</code>。</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nv">var</span><span class="o">=</span><span class="k">$((</span><span class="nv">expression</span><span class="k">))</span>
</code></pre></div>
<h3 id="back-ticks"><code>``</code> back ticks<a class="headerlink" href="#back-ticks" title="Permanent link">&para;</a></h3>
<p>var= commands</p>
<p><strong>Example</strong>: Suppose we want to get the output of a list of mountpoints with <code>tmpfs</code> in their name. We can craft a statement like this: <code>df -h | grep tmpfs</code>.</p>
<p>To include it in the bash script, we can enclose it in back ticks.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">var</span><span class="o">=</span><span class="se">\`</span>df<span class="w"> </span>-h<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>tmpfs<span class="se">\`</span>
<span class="nb">echo</span><span class="w"> </span><span class="nv">$var</span>
</code></pre></div>
<h3 id="_21"><code>""</code><a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="nv">repo</span><span class="o">=</span>~<span class="s2">&quot;/projects/repo1&quot;</span><span class="w">  </span><span class="c1"># 或直接写 ~/projects/repo1（不加引号）</span>
<span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$repo</span><span class="s2">&quot;</span><span class="w">               </span><span class="c1"># 此时 $repo 已是展开后的绝对路径</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="c1"># 显式展开家目录</span>
<span class="nv">HOME_DIR</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;~&quot;</span><span class="k">)</span><span class="w">  </span><span class="c1"># 或直接写 HOME_DIR=&quot;$HOME&quot;</span>

<span class="nv">repos</span><span class="o">=(</span>
<span class="w">    </span><span class="s2">&quot;</span><span class="nv">$HOME_DIR</span><span class="s2">/projects/repo1&quot;</span>
<span class="w">    </span><span class="s2">&quot;</span><span class="nv">$HOME_DIR</span><span class="s2">/work/repo2&quot;</span>
<span class="o">)</span>
</code></pre></div>
<h3 id="_22"><code>""</code> 和 <code>''</code><a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>在 <strong>Bash</strong> 脚本中，双引号 <code>""</code> 和单引号 <code>''</code> 都用于定义字符串，但它们在 <strong>变量扩展</strong>、<strong>命令替换</strong> 和 <strong>特殊字符处理</strong> 上有本质区别。以下是详细对比：</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>双引号 <code>""</code></th>
<th>单引号 <code>''</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>变量扩展</strong></td>
<td>✅（如 <code>"$var"</code> 会展开）</td>
<td>❌（如 <code>'$var'</code> 原样输出）</td>
</tr>
<tr>
<td><strong>命令替换</strong></td>
<td>✅（如 <code>"$(date)"</code> 会执行）</td>
<td>❌（如 <code>'$(date)'</code> 原样输出）</td>
</tr>
<tr>
<td><strong>转义字符</strong></td>
<td>仅 <code>\</code>, <code>$</code>, <code>`</code>, <code>"</code> 生效</td>
<td>所有字符均按字面处理（无转义）</td>
</tr>
<tr>
<td><strong>用途</strong></td>
<td>需保留变量或命令结果时使用</td>
<td>需完全按字面输出时使用</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, </span><span class="nv">$name</span><span class="s2">&quot;</span><span class="w">   </span><span class="c1"># 输出: Hello, Alice</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello, $name&#39;</span><span class="w">   </span><span class="c1"># 输出: Hello, $name</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Today is </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 输出: Today is Mon Jul 1 12:00:00 UTC 2024</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Today is $(date)&#39;</span><span class="w">  </span><span class="c1"># 输出: Today is $(date)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Path is \$HOME&quot;</span><span class="w">    </span><span class="c1"># 输出: Path is $HOME（\$ 被转义）</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Path is \$HOME&#39;</span><span class="w">    </span><span class="c1"># 输出: Path is \$HOME（完全字面）</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;She said: &#39;Hello!&#39;&quot;</span><span class="w">   </span><span class="c1"># 输出: She said: &#39;Hello!&#39;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;He said: &quot;Hi!&quot;&#39;</span><span class="w">       </span><span class="c1"># 输出: He said: &quot;Hi!&quot;</span>
</code></pre></div>
<ul>
<li>需要<strong>变量或命令替换</strong>时：<br />
    <div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Current user: </span><span class="nv">$USER</span><span class="s2">, time: </span><span class="k">$(</span>date<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div></li>
<li>
<p>字符串中包含<strong>空格或特殊字符</strong>（需部分转义）：</p>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Use \&quot;quotes\&quot; inside.&quot;</span>
</code></pre></div>
</li>
<li>
<p>需<strong>完全按字面输出</strong>（如正则表达式、SQL语句）：<br />
    <div class="highlight"><pre><span></span><code>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;^[A-Z]&#39;</span><span class="w"> </span>file.txt<span class="w">  </span><span class="c1"># 正则表达式</span>
<span class="nv">sql</span><span class="o">=</span><span class="s1">&#39;SELECT * FROM users;&#39;</span><span class="w"> </span><span class="c1"># SQL语句</span>
</code></pre></div></p>
</li>
<li>避免<strong>特殊字符被解析</strong>：<br />
    <div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;$PATH and $(date)&#39;</span><span class="w">  </span><span class="c1"># 输出: $PATH and $(date)</span>
</code></pre></div></li>
</ul>
<p><strong>特殊情况处理</strong></p>
<div class="highlight"><pre><span></span><code><span class="nb">alias</span><span class="w"> </span><span class="nv">rm</span><span class="o">=</span><span class="s1">&#39;rm -i&#39;</span><span class="w">          </span><span class="c1"># 单引号内定义别名（避免变量提前展开）</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;It&#39;s a sunny day.&quot;</span><span class="w">  </span><span class="c1"># 双引号内嵌套单引号（无需转义）</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Line 1\nLine 2&quot;</span><span class="w">     </span><span class="c1"># 输出: Line 1\nLine 2（\n 未被转义为换行）</span>
<span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;Line 1\nLine 2&quot;</span><span class="w">  </span><span class="c1"># 输出两行（-e 启用转义）</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Line 1\nLine 2&#39;</span><span class="w">     </span><span class="c1"># 输出: Line 1\nLine 2（完全字面）</span>
</code></pre></div>
<ul>
<li><strong>单引号稍快</strong>：因为无需解析变量或命令替换。</li>
<li>
<p>实际脚本中差异可忽略，优先考虑功能需求。</p>
</li>
<li>
<p><strong>默认用双引号</strong>：<br />
   保护变量中的空格（如 <code>"$file"</code>），避免路径或文件名错误拆分。<br />
    <div class="highlight"><pre><span></span><code>cp<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;/backup/</span><span class="nv">$file</span><span class="s2">&quot;</span><span class="w">  </span><span class="c1"># 正确处理含空格的文件名</span>
</code></pre></div></p>
</li>
<li><strong>需要纯文本时用单引号</strong>：<br />
   如正则表达式、代码生成、避免意外展开。<br />
    <div class="highlight"><pre><span></span><code>sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/foo/bar/g&#39;</span><span class="w"> </span>file.txt
</code></pre></div></li>
</ul>
<h2 id="read-write">read, write<a class="headerlink" href="#read-write" title="Permanent link">&para;</a></h2>
<h3 id="read">read<a class="headerlink" href="#read" title="Permanent link">&para;</a></h3>
<h4 id="read-in-console">read in console<a class="headerlink" href="#read-in-console" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;input a&quot;</span>
<span class="nb">read</span><span class="w"> </span>a
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;input b&quot;</span>
<span class="nb">read</span><span class="w"> </span>b

<span class="nb">read</span><span class="w"> </span>-n<span class="w"> </span><span class="m">3</span><span class="w"> </span>-t<span class="w"> </span><span class="m">5</span><span class="w"> </span>-s<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;input 3 charater, wait for 5 seconds, silent&quot;</span><span class="w"> </span>c
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$c</span><span class="s2">&quot;</span>

<span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;a=%s,b=%s,sum is %s&quot;</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="k">$((</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">b</span><span class="k">))</span>
</code></pre></div>
<p>It is possible to give arguments to the script on execution.</p>
<p><code>$@</code> is a list of the parameters.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="k">for</span><span class="w"> </span>x<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">$@</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Entered arg is </span><span class="nv">$x</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>
<p>Run it like this:</p>
<p><code>./script arg1 arg2</code></p>
<h4 id="read-in-file">read in file<a class="headerlink" href="#read-in-file" title="Permanent link">&para;</a></h4>
<p>Suppose we have a file <code>sample_file.txt</code>, We can read the file line by line and print the output on the screen.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>

<span class="nv">LINE</span><span class="o">=</span><span class="m">1</span>

<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>CURRENT_LINE
<span class="w">    </span><span class="k">do</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LINE</span><span class="s2">: </span><span class="nv">$CURRENT_LINE</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="o">((</span>LINE++<span class="o">))</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span><span class="s2">&quot;sample_file.txt&quot;</span>
</code></pre></div>
<h3 id="write">write<a class="headerlink" href="#write" title="Permanent link">&para;</a></h3>
<h2 id="redirection-pipe">redirection, pipe<a class="headerlink" href="#redirection-pipe" title="Permanent link">&para;</a></h2>
<h3 id="direction">direction<a class="headerlink" href="#direction" title="Permanent link">&para;</a></h3>
<h4 id="_23">输出重定向<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&gt;</code></td>
<td>覆盖写入文件（标准输出）</td>
<td><code>ls &gt; file.txt</code></td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>追加到文件（标准输出）</td>
<td><code>echo "hi" &gt;&gt; file.txt</code></td>
</tr>
<tr>
<td><code>2&gt;</code></td>
<td>覆盖写入文件（标准错误）</td>
<td><code>cmd 2&gt; error.log</code></td>
</tr>
<tr>
<td><code>2&gt;&gt;</code></td>
<td>追加到文件（标准错误）</td>
<td><code>cmd 2&gt;&gt; error.log</code></td>
</tr>
<tr>
<td><code>&amp;&gt;</code></td>
<td>覆盖写入文件（标准输出+标准错误）</td>
<td><code>cmd &amp;&gt; output.log</code></td>
</tr>
<tr>
<td><code>&amp;&gt;&gt;</code></td>
<td>追加到文件（标准输出+标准错误）</td>
<td><code>cmd &amp;&gt;&gt; output.log</code></td>
</tr>
</tbody>
</table>
<p><strong>文件描述符操作</strong> Bash 用数字<code>n</code>表示文件描述符（File Descriptor, FD）：</p>
<ul>
<li><code>0</code>：标准输入（stdin）</li>
<li><code>1</code>：标准输出（stdout）</li>
<li><code>2</code>：标准错误（stderr）</li>
</ul>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>n&gt;</code></td>
<td>覆盖写入到文件描述符 <code>n</code></td>
<td><code>cmd 3&gt; custom_fd.log</code></td>
</tr>
<tr>
<td><code>n&gt;&gt;</code></td>
<td>追加到文件描述符 <code>n</code></td>
<td><code>cmd 3&gt;&gt; custom_fd.log</code></td>
</tr>
<tr>
<td><code>n&gt;&amp;m</code></td>
<td>将文件描述符 <code>n</code> 重定向到 <code>m</code></td>
<td><code>cmd 2&gt;&amp;1</code>（错误合并到输出）</td>
</tr>
<tr>
<td><code>n&gt;&amp;-</code></td>
<td>关闭文件描述符 <code>n</code></td>
<td><code>exec 3&gt;&amp;-</code></td>
</tr>
<tr>
<td><code>&amp;&gt;file</code> 或 <code>&gt;&amp;file</code></td>
<td>合并标准输出和错误到文件（兼容性写法）</td>
<td><code>cmd &amp;&gt; all.log</code></td>
</tr>
</tbody>
</table>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将标准错误重定向到文件描述符3，再重定向到文件</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w">  </span><span class="c1"># 备份标准输出到3</span>
cmd<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;output.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>error.log<span class="w">  </span><span class="c1"># 错误流单独处理</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w">  </span><span class="c1"># 恢复标准输出</span>
</code></pre></div>
<p><strong>特殊设备重定向</strong></p>
<table>
<thead>
<tr>
<th>目标文件</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/dev/null</code></td>
<td>丢弃输出（黑洞设备）</td>
<td><code>cmd &gt; /dev/null 2&gt;&amp;1</code></td>
</tr>
<tr>
<td><code>/dev/stdout</code></td>
<td>显式指向标准输出</td>
<td><code>echo "x" &gt; /dev/stdout</code></td>
</tr>
<tr>
<td><code>/dev/stderr</code></td>
<td>显式指向标准错误</td>
<td><code>echo "error" &gt; /dev/stderr</code></td>
</tr>
<tr>
<td><code>/dev/fd/n</code></td>
<td>重定向到文件描述符 <code>n</code></td>
<td><code>cmd &gt; /dev/fd/3</code></td>
</tr>
</tbody>
</table>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 静默执行命令（忽略所有输出）</span>
cmd<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>
<h4 id="_24">输入重定向<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>从文件读取输入（标准输入）</td>
<td><code>sort &lt; data.txt</code></td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>Here Document（多行输入）</td>
<td>见前文</td>
</tr>
<tr>
<td><code>&lt;&lt;&lt;</code></td>
<td>Here String（字符串输入）</td>
<td><code>grep "x" &lt;&lt;&lt; "abc"</code></td>
</tr>
</tbody>
</table>
<p><strong><code>&lt;</code>：标准输入重定向</strong></p>
<p><strong>作用</strong>：将文件内容作为命令的标准输入。<br />
<strong>语法</strong>：<code>command &lt; file</code><br />
<strong>特点</strong>：</p>
<ul>
<li>从文件中读取数据并传递给命令</li>
<li>文件内容会逐行作为命令的输入</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将 file.txt 的内容作为 wc 命令的输入</span>
wc<span class="w"> </span>-l<span class="w"> </span>&lt;<span class="w"> </span>file.txt
</code></pre></div>
<p><strong>结果</strong>：统计 <code>file.txt</code> 的行数。</p>
<p><strong><code>&lt;&lt;</code>：Here Document（文档内嵌输入）</strong></p>
<p><strong>作用</strong>：将多行文本（称为 "Here Document"）作为命令的标准输入，直到遇到指定的结束标记。<br />
<strong>语法</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="nb">command</span><span class="w"> </span><span class="s">&lt;&lt; DELIMITER</span>
<span class="s">多行文本...</span>
<span class="s">DELIMITER</span>
</code></pre></div>
<p><strong>特点</strong>：</p>
<ul>
<li>允许在脚本中直接嵌入多行输入</li>
<li>结束标记（<code>DELIMITER</code>）可以是任意字符串（通常用 <code>EOF</code>）</li>
<li>默认会解析变量和命令替换（除非用引号包围 <code>DELIMITER</code>，如 <code>&lt;&lt;'EOF'</code>）</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将多行文本传递给 cat 命令</span>
cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">第一行</span>
<span class="s">第二行</span>
<span class="s">变量值: $HOME</span>
<span class="s">EOF</span>
</code></pre></div>
<p><strong>结果</strong>：</p>
<div class="highlight"><pre><span></span><code>第一行
第二行
变量值: /home/username
</code></pre></div>
<p><strong><code>&lt;&lt;&lt;</code>：Here String（字符串内嵌输入）</strong><br />
<strong>作用</strong>：将单个字符串作为命令的标准输入。<br />
<strong>语法</strong>：<code>command &lt;&lt;&lt; "string"</code><br />
<strong>特点</strong>：</p>
<ul>
<li>直接传递字符串（无需文件或多行文本）</li>
<li>字符串会解析变量和命令替换</li>
<li>比 <code>echo "string" | command</code> 更高效（避免管道和子进程）</li>
</ul>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 将字符串传递给 grep 命令</span>
grep<span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span>
</code></pre></div>
<p><strong>结果</strong>：输出 <code>hello world</code>（因为匹配成功）。</p>
<p><strong>对比总结</strong></p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>名称</th>
<th>输入源</th>
<th>典型用途</th>
<th>是否解析变量</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;</code></td>
<td>输入重定向</td>
<td>文件</td>
<td>从文件读取数据</td>
<td>是</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>Here Document</td>
<td>多行文本（脚本内嵌）</td>
<td>传递多行输入（如生成配置文件）</td>
<td>是（可禁用）</td>
</tr>
<tr>
<td><code>&lt;&lt;&lt;</code></td>
<td>Here String</td>
<td>单个字符串</td>
<td>快速传递变量或简单字符串</td>
<td>是</td>
</tr>
</tbody>
</table>
<p><strong>关键区别</strong></p>
<ol>
<li>
<p><strong>输入来源不同</strong>：</p>
<ul>
<li><code>&lt;</code> 从文件读取</li>
<li><code>&lt;&lt;</code> 从脚本内嵌的多行文本读取</li>
<li><code>&lt;&lt;&lt;</code> 从单个字符串读取</li>
</ul>
</li>
<li>
<p><strong>性能差异</strong>：</p>
<ul>
<li><code>&lt;&lt;&lt;</code> 比 <code>echo "str" | command</code> 更高效（避免管道）</li>
<li><code>&lt;</code> 适合处理大文件（逐行读取，不占用内存）</li>
</ul>
</li>
<li>
<p><strong>变量解析</strong>：</p>
<ul>
<li><code>&lt;&lt;</code> 和 <code>&lt;&lt;&lt;</code> 默认解析变量，但 <code>&lt;&lt;</code> 可通过 <code>&lt;&lt;'DELIMITER'</code> 禁用解析</li>
<li><code>&lt;</code> 由命令决定是否解析（如 <code>cat</code> 不解析，<code>eval</code> 会解析）</li>
</ul>
</li>
</ol>
<hr />
<p><strong>使用场景示例</strong><br />
<strong><code>&lt;</code> 的典型用途</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 从配置文件读取输入</span>
<span class="k">while</span><span class="w"> </span><span class="nb">read</span><span class="w"> </span>line<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;配置行: </span><span class="nv">$line</span><span class="s2">&quot;</span>
<span class="k">done</span><span class="w"> </span>&lt;<span class="w"> </span>config.txt
</code></pre></div>
<p><strong><code>&lt;&lt;</code> 的典型用途</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 生成多行配置文件</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>app.conf<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">server_ip=192.168.1.1</span>
<span class="s">port=8080</span>
<span class="s">EOF</span>
</code></pre></div>
<p><strong><code>&lt;&lt;&lt;</code> 的典型用途</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 快速检查字符串是否包含子串</span>
grep<span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$log_content</span><span class="s2">&quot;</span>
</code></pre></div>
<p><strong>注意事项</strong></p>
<ol>
<li>
<p><strong><code>&lt;&lt;</code> 的结束标记</strong>：</p>
<ul>
<li>结束标记必须单独一行且顶格书写（不能有缩进）：<br />
    <div class="highlight"><pre><span></span><code><span class="c1"># 错误示例（缩进会导致语法错误）</span>
cat<span class="w"> </span><span class="s">&lt;&lt; EOF</span>
<span class="s">内容...</span>
<span class="s">  EOF</span><span class="w">  </span><span class="c1"># 缩进了，无法识别为结束标记</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong><code>&lt;&lt;&lt;</code> 的字符串引用</strong>：</p>
<ul>
<li>如果字符串包含空格或特殊字符，需用引号包围：<br />
    <div class="highlight"><pre><span></span><code><span class="c1"># 安全写法</span>
wc<span class="w"> </span>-w<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span>
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong>性能选择</strong>：</p>
<ul>
<li>处理大量数据时优先用 <code>&lt;</code>（文件）或 <code>&lt;&lt;</code>（多行文本）</li>
<li>简单字符串操作用 <code>&lt;&lt;&lt;</code> 更高效</li>
</ul>
</li>
</ol>
<h4 id="_25">重定向组合<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h4>
<p><strong>(1) 同时重定向输入和输出</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 从input.txt读取，结果写入output.txt</span>
<span class="nb">command</span><span class="w"> </span>&lt;<span class="w"> </span>input.txt<span class="w"> </span>&gt;<span class="w"> </span>output.txt
</code></pre></div>
<p><strong>(2) 分离标准输出和错误</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 标准输出到out.log，错误到err.log</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>out.log<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>err.log
</code></pre></div>
<p><strong>(3) 合并输出和错误到同一文件</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 方式1（推荐）</span>
<span class="nb">command</span><span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>combined.log

<span class="c1"># 方式2（传统写法）</span>
<span class="nb">command</span><span class="w"> </span>&gt;<span class="w"> </span>combined.log<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>
<h4 id="process-substitution">进程替换（Process Substitution）<a class="headerlink" href="#process-substitution" title="Permanent link">&para;</a></h4>
<p>用 <code>&gt;(...)</code> 和 <code>&lt;(...)</code> 将命令输出/输入视为临时文件：<br />
| 符号 | 作用 | 示例 |<br />
|-----------|-----------------------------|--------------------------|<br />
| <code>&lt;(cmd)</code> | 将命令输出作为文件输入 | <code>diff &lt;(ls dir1) &lt;(ls dir2)</code> |<br />
| <code>&gt;(cmd)</code> | 将命令输入作为文件输出 | <code>tee &gt;(gzip &gt; out.gz)</code> |</p>
<p><strong>示例</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 比较两个目录的文件列表差异</span>
diff<span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span>/path/to/dir1<span class="o">)</span><span class="w"> </span>&lt;<span class="o">(</span>ls<span class="w"> </span>/path/to/dir2<span class="o">)</span>

<span class="c1"># 将输出同时写入文件和压缩</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;data&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>&gt;<span class="o">(</span>gzip<span class="w"> </span>&gt;<span class="w"> </span>output.gz<span class="o">)</span><span class="w"> </span>&gt;<span class="w"> </span>original.txt
</code></pre></div>
<h4 id="_26">综合示例<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h4>
<p>** 日志记录脚本**</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">exec</span><span class="w"> </span><span class="m">3</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w">  </span><span class="c1"># 备份标准输出到描述符3</span>
<span class="nb">exec</span><span class="w"> </span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>tee<span class="w"> </span>-a<span class="w"> </span>stdout.log<span class="o">)</span><span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>tee<span class="w"> </span>-a<span class="w"> </span>stderr.log<span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span><span class="o">)</span><span class="w">  </span><span class="c1"># 分离输出和错误</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;正常消息&quot;</span><span class="w">  </span><span class="c1"># 写入stdout.log</span>
ls<span class="w"> </span>/nonexistent<span class="w">  </span><span class="c1"># 错误写入stderr.log</span>

<span class="nb">exec</span><span class="w"> </span><span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">3</span><span class="w">  </span><span class="c1"># 恢复标准输出</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;回到终端显示&quot;</span>
</code></pre></div>
<p><strong>复杂重定向</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;标准输出1&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;标准错误1&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;标准输出2&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;标准错误2&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="o">}</span><span class="w"> </span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;标准输出&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>out.txt<span class="o">)</span><span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>&gt;<span class="o">(</span>grep<span class="w"> </span><span class="s2">&quot;标准错误&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>err.txt<span class="o">)</span>
</code></pre></div>
<p><strong>注意事项</strong></p>
<ol>
<li>
<p><strong>顺序敏感</strong>：<br />
<code>2&gt;&amp;1 &gt;file</code> 和 <code>&gt;file 2&gt;&amp;1</code> 完全不同！后者才是合并输出到文件。</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 错误：错误流不会进入文件</span>
cmd<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>file

<span class="c1"># 正确：合并输出和错误到文件</span>
cmd<span class="w"> </span>&gt;<span class="w"> </span>file<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>
</li>
<li>
<p><strong>文件描述符范围</strong>：<br />
   Bash 默认支持 <code>0-9</code>，更高数值需用 <code>exec</code> 显式分配。</p>
</li>
<li>
<p><strong>管道与重定向优先级</strong>：<br />
   管道 <code>|</code> 优先级高于重定向，必要时用 <code>{ }</code> 分组：</p>
<div class="highlight"><pre><span></span><code><span class="o">{</span><span class="w"> </span>cmd1<span class="w"> </span><span class="p">|</span><span class="w"> </span>cmd2<span class="p">;</span><span class="w"> </span><span class="o">}</span><span class="w"> </span>&gt;<span class="w"> </span>output.txt
</code></pre></div>
</li>
<li>
<p><strong>Here Document 的变体</strong>：</p>
<ul>
<li><code>&lt;&lt;-</code>：忽略结束标记前的制表符（Tab）<br />
    <div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;- EOF</span>
<span class="s">    Indented text</span>
<span class="s">EOF</span><span class="w">  </span><span class="c1"># 可以用Tab缩进</span>
</code></pre></div></li>
</ul>
</li>
</ol>
<h3 id="pipe">pipe<a class="headerlink" href="#pipe" title="Permanent link">&para;</a></h3>
<h2 id="control">control<a class="headerlink" href="#control" title="Permanent link">&para;</a></h2>
<h3 id="if">if<a class="headerlink" href="#if" title="Permanent link">&para;</a></h3>
<ul>
<li><code>if...then...fi</code> statements</li>
<li><code>if...then...else...fi</code> statements</li>
<li><code>if..elif..else..fi</code></li>
<li><code>if..then..else..if..then..fi..fi..</code> (Nested Conditionals)</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>...<span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="c1"># if-code</span>
<span class="k">else</span>
<span class="w">  </span><span class="c1"># else-code</span>
<span class="k">fi</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>...<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="c1"># if-code</span>
<span class="k">else</span>
<span class="w">  </span><span class="c1"># else-code</span>
<span class="k">fi</span>
</code></pre></div>
<p>conditions:</p>
<p>examples:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>-lt<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is less than zero&quot;</span>
<span class="k">fi</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>-gt<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is more than zero&quot;</span>
<span class="k">fi</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>-le<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is less than or equal to  zero&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>-ge<span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is more than or equal to zero&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is the string or number \&quot;0\&quot;&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X matches the string \&quot;hello\&quot;&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>!<span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is not the string \&quot;hello\&quot;&quot;</span>
<span class="o">[</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is of nonzero length&quot;</span>
<span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is the path of a real file&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;No such file: </span><span class="nv">$X</span><span class="s2">&quot;</span>
<span class="o">[</span><span class="w"> </span>-x<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is the path of an executable file&quot;</span>
<span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$X</span><span class="s2">&quot;</span><span class="w"> </span>-nt<span class="w"> </span><span class="s2">&quot;/etc/passwd&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;X is a file which is newer than /etc/passwd&quot;</span>


<span class="nb">read</span><span class="w"> </span>a
<span class="nb">read</span><span class="w"> </span>b
<span class="nb">read</span><span class="w"> </span>c

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$c</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$c</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="c1"># -a means</span>
<span class="k">then</span>
<span class="nb">echo</span><span class="w"> </span>EQUILATERAL

<span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span>-o<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$c</span><span class="w"> </span>-o<span class="w"> </span><span class="nv">$a</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">$c</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="c1"># -o means or</span>
<span class="k">then</span>
<span class="nb">echo</span><span class="w"> </span>ISOSCELES
<span class="k">else</span>
<span class="nb">echo</span><span class="w"> </span>SCALENE

<span class="k">fi</span>
</code></pre></div>
<h3 id="loop">loop<a class="headerlink" href="#loop" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">{</span><span class="m">1</span>..5<span class="o">}</span>
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$i</span>
<span class="k">done</span>

<span class="k">for</span><span class="w"> </span>X<span class="w"> </span><span class="k">in</span><span class="w"> </span>cyan<span class="w"> </span>magenta<span class="w"> </span>yellow
<span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$X</span>
<span class="k">done</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="nv">i</span><span class="o">=</span><span class="m">1</span>
<span class="k">while</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span>-le<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">   </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">  </span><span class="o">((</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">))</span>
<span class="k">done</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 定义数组（空格分隔元素，可含特殊字符）</span>
<span class="nv">fruits</span><span class="o">=(</span><span class="s2">&quot;Apple&quot;</span><span class="w"> </span><span class="s2">&quot;Banana&quot;</span><span class="w"> </span><span class="s2">&quot;Orange&quot;</span><span class="w"> </span><span class="s2">&quot;Grape&quot;</span><span class="w"> </span><span class="s2">&quot;Watermelon&quot;</span><span class="o">)</span>
<span class="k">for</span><span class="w"> </span>fruit<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">fruits</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Fruit: </span><span class="nv">$fruit</span><span class="s2">&quot;</span>
<span class="k">done</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="p">!fruits[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Index </span><span class="nv">$i</span><span class="s2">: </span><span class="si">${</span><span class="nv">fruits</span><span class="p">[i]</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># 定义仓库目录列表（支持绝对路径或相对路径）</span>
<span class="nv">repos</span><span class="o">=(</span>
<span class="w">    </span><span class="s2">&quot;/path/to/repo1&quot;</span>
<span class="w">    </span><span class="s2">&quot;/path/to/repo2&quot;</span>
<span class="w">    </span><span class="s2">&quot;/path/to/repo3&quot;</span>
<span class="w">    </span><span class="s2">&quot;/path/to/repo4&quot;</span>
<span class="o">)</span>

<span class="c1"># 遍历所有仓库</span>
<span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">repos</span><span class="p">[@]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Updating repo: </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed to enter </span><span class="nv">$i</span><span class="s2">&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span><span class="w"> </span><span class="o">}</span>

<span class="w">    </span><span class="c1"># 执行 git pull</span>
<span class="w">    </span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main<span class="w">  </span><span class="c1"># 假设分支是 main，根据实际情况修改</span>

<span class="w">    </span><span class="c1"># 检查 git pull 是否成功</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Successfully updated: </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Failed to update: </span><span class="nv">$i</span><span class="s2">&quot;</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;----------------------------------&quot;</span>
<span class="k">done</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;All repositories updated!&quot;</span>
</code></pre></div>
<h2 id="function">function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>fork boom!</strong></p>
<div class="highlight"><pre><span></span><code>:(){:|:;};:
</code></pre></div>
</div>
<h2 id="advance">Advance<a class="headerlink" href="#advance" title="Permanent link">&para;</a></h2>
<h3 id="get-opts">get-opts<a class="headerlink" href="#get-opts" title="Permanent link">&para;</a></h3>
<p>example:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="nv">docs</span><span class="o">=</span><span class="s2">&quot;Usage: \</span>
<span class="s2">\n\tbash </span><span class="nv">$0</span><span class="s2"> [options] \</span>
<span class="s2">\nOptions: \</span>
<span class="s2">\n\t-N NAME: your name, required\</span>
<span class="s2">\n\t-a AGE: your age, required\</span>
<span class="s2">\n\t-v: verbose mode, optional\</span>
<span class="s2">\nExample: \</span>
<span class="s2">\n\t bash </span><span class="nv">$0</span><span class="s2"> -N balabala -a 24 &quot;</span>

usage<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">$docs</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="o">}</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>-h<span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span>usage<span class="p">;</span><span class="w"> </span><span class="k">fi</span>

<span class="c1">## 设置变量的默认值</span>
<span class="nv">verbose</span><span class="o">=</span>n

<span class="c1">## 检查变量参数是否缺失</span>
check<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nv">opt</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="nv">arg</span><span class="o">=</span><span class="nv">$2</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span><span class="nv">$arg</span><span class="w"> </span><span class="o">=</span>~<span class="w"> </span>^-<span class="w"> </span><span class="o">]]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span><span class="nv">$arg</span><span class="w"> </span><span class="o">]</span>
<span class="w">    </span><span class="k">then</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ERROR: -</span><span class="nv">$opt</span><span class="s2"> expects an corresponding argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span>usage
<span class="w">    </span><span class="k">fi</span>
<span class="o">}</span>

<span class="c1">## 循环解析脚本的所有positional parameters</span>
<span class="k">while</span><span class="w"> </span><span class="nb">getopts</span><span class="w"> </span>:vN:a:<span class="w"> </span>opt
<span class="k">do</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$opt</span><span class="w"> </span><span class="k">in</span>
<span class="w">    </span>v<span class="o">)</span>
<span class="w">        </span><span class="nv">verbose</span><span class="o">=</span>y
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>N<span class="o">)</span>
<span class="w">        </span>check<span class="w"> </span>N<span class="w"> </span><span class="nv">$OPTARG</span>
<span class="w">        </span><span class="nv">name</span><span class="o">=</span><span class="nv">$OPTARG</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>a<span class="o">)</span>
<span class="w">        </span>check<span class="w"> </span>a<span class="w"> </span><span class="nv">$OPTARG</span>
<span class="w">        </span><span class="nv">age</span><span class="o">=</span><span class="nv">$OPTARG</span>
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span>:<span class="o">)</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ERROR: -</span><span class="nv">$OPTARG</span><span class="s2"> expects an corresponding argument&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span>usage
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="se">\?</span><span class="o">)</span><span class="w"> </span><span class="c1"># shell里&#39;?&#39;具有匹配一位任意字符的作用，因此需要转义为普通字符</span>
<span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ERROR: unkown option -</span><span class="nv">$OPTARG</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">        </span>usage
<span class="w">        </span><span class="p">;;</span>
<span class="w">    </span><span class="k">esac</span>
<span class="k">done</span>

<span class="c1">## 如果用户没有提供-N选项</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span><span class="nv">$name</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>ERROR:<span class="w"> </span>option<span class="w"> </span>-N<span class="w"> </span>is<span class="w"> </span>required<span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span>usage
<span class="k">fi</span>

<span class="c1">## 如果用户没有提供-a选项</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>!<span class="w"> </span><span class="nv">$age</span><span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span>ERROR:<span class="w"> </span>option<span class="w"> </span>-a<span class="w"> </span>is<span class="w"> </span>required<span class="w"> </span>&gt;<span class="p">&amp;</span><span class="m">2</span>
<span class="w">    </span>usage
<span class="k">fi</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$verbose</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>n<span class="w"> </span><span class="o">]</span>
<span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Merry Christmas! </span><span class="nv">$name</span><span class="s2">&quot;</span>
<span class="k">else</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello, your name is </span><span class="nv">$name</span><span class="s2">, you are </span><span class="nv">$age</span><span class="s2"> years old!&quot;</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Merry Christmas!!&quot;</span>
<span class="k">fi</span>
</code></pre></div>
<p>在 <code>:vN:a:</code>中，第一个<code>:</code> 表示静默错误模式（silent error mode）。如果没有这个<code>:</code>，当遇到无效选项时，getopts 会打印错误消息。<br />
选项后的 <code>:</code>（如 N:）表示该选项需要一个参数。<br />
如果没有 <code>:</code>，则表示该选项不需要参数。</p>
<h3 id="cron">cron<a class="headerlink" href="#cron" title="Permanent link">&para;</a></h3>
<p>Cron is a job scheduling utility present in Unix like systems. You can schedule jobs to execute daily, weekly, monthly or in a specific time of the day. Automation in Linux heavily relies on cron jobs.</p>
<p>Below is the syntax to schedule crons:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Cron job example</span>
*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>*<span class="w"> </span>sh<span class="w"> </span>/path/to/script.sh
</code></pre></div>
<p>Here, <code>*</code> represents minute(s) hour(s) day(s) month(s) weekday(s), respectively.</p>
<p>Below are some examples of scheduling cron jobs.</p>
<table>
<thead>
<tr>
<th>SCHEDULE</th>
<th>SCHEDULED VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td>5 0 * 8 *</td>
<td>At 00:05 in August.</td>
</tr>
<tr>
<td>5 4 * * 6</td>
<td>At 04:05 on Saturday.</td>
</tr>
<tr>
<td>0 22 * * 1-5</td>
<td>At 22:00 on every day-of-week from Monday through Friday.</td>
</tr>
</tbody>
</table>
<p><code>crontab -l</code> lists the already scheduled scripts for a particular user.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>https://www.freecodecamp.org/news/shell-scripting-crash-course-how-to-write-bash-scripts-in-linux/&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>https://www.freecodecamp.org/news/cron-jobs-in-linux/&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>htts://blog.csdn.net/weixin_49114503/article/details/141360012&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>htts://www.runoob.com/w3cnote/linux-shell-brackets-features.html&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>http://blog.csdn.net/taiyang1987912/article/details/39551385&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>https://www.shellscript.sh/&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>https://www.runoob.com/linux/linux-shell-variable.html&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../cheatsheets/sed/" class="md-footer__link md-footer__link--prev" aria-label="Previous: sed cheatsheet">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                sed cheatsheet
              </div>
            </div>
          </a>
        
        
          
          <a href="../latex/" class="md-footer__link md-footer__link--next" aria-label="Next: latex概览">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                latex概览
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/hiraethecho" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "navigation.footer", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.path", "navigation.indexes", "toc.follow", "search.highlight", "search.share", "search.suggest"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>